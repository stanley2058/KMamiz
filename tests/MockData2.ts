import { Trace } from "../src/entities/external/Trace";
import { TEnvoyLog } from "../src/entities/TEnvoyLog";

const traces: Trace[] = [
  {
    traceId: "dad62e0cb93a980cc6bba3d0762fefc8",
    parentId: "d40b8bb597882141",
    id: "ab22aec8ee300093",
    kind: "CLIENT",
    name: "credential-service.pdas.svc.cluster.local:80/*",
    timestamp: 1672725817984328,
    duration: 21164,
    localEndpoint: {
      serviceName: "user-service.pdas",
      ipv4: "10.244.111.134",
    },
    annotations: [
      {
        timestamp: 1672725818005576,
        value: "cr",
      },
    ],
    tags: {
      component: "proxy",
      downstream_cluster: "-",
      "guid:x-request-id": "669084db-e52d-9825-8d03-aab35afa6f4a",
      "http.method": "GET",
      "http.protocol": "HTTP/1.1",
      "http.status_code": "200",
      "http.url":
        "http://credential-service.pdas.svc.cluster.local/internal/user/verify",
      "istio.canonical_revision": "latest",
      "istio.canonical_service": "user-service",
      "istio.mesh_id": "cluster.local",
      "istio.namespace": "pdas",
      node_id:
        "sidecar~10.244.111.134~user-service-67c7fdcbcb-fdkrm.pdas~pdas.svc.cluster.local",
      "peer.address": "10.244.111.134",
      request_size: "0",
      response_flags: "-",
      response_size: "7",
      upstream_cluster:
        "outbound|80||credential-service.pdas.svc.cluster.local",
      "upstream_cluster.name":
        "outbound|80||credential-service.pdas.svc.cluster.local",
      user_agent: "Java/11.0.9.1",
    },
  },
  {
    traceId: "dad62e0cb93a980cc6bba3d0762fefc8",
    parentId: "c6bba3d0762fefc8",
    id: "d40b8bb597882141",
    kind: "SERVER",
    name: "user-service.pdas.svc.cluster.local:80/pdas/user/generalinfo*",
    timestamp: 1672725817975119,
    duration: 49197,
    localEndpoint: {
      serviceName: "user-service.pdas",
      ipv4: "10.244.111.134",
    },
    annotations: [
      {
        timestamp: 1672725818024482,
        value: "ss",
      },
    ],
    tags: {
      component: "proxy",
      downstream_cluster: "-",
      "guid:x-request-id": "669084db-e52d-9825-8d03-aab35afa6f4a",
      "http.method": "GET",
      "http.protocol": "HTTP/1.1",
      "http.status_code": "200",
      "http.url": "http://10.10.10.23/pdas/user/generalInfo",
      "istio.canonical_revision": "latest",
      "istio.canonical_service": "user-service",
      "istio.mesh_id": "cluster.local",
      "istio.namespace": "pdas",
      node_id:
        "sidecar~10.244.111.134~user-service-67c7fdcbcb-fdkrm.pdas~pdas.svc.cluster.local",
      "peer.address": "10.244.111.168",
      request_size: "0",
      response_flags: "-",
      response_size: "1980",
      upstream_cluster: "inbound|4502||",
      "upstream_cluster.name": "inbound|4502||",
      user_agent:
        "Mozilla/5.0 (X11; Linux x86_64; rv:109.0) Gecko/20100101 Firefox/110.0",
    },
  },
  {
    traceId: "dad62e0cb93a980cc6bba3d0762fefc8",
    id: "c6bba3d0762fefc8",
    kind: "CLIENT",
    name: "user-service.pdas.svc.cluster.local:80/pdas/user/generalinfo*",
    timestamp: 1672725817974737,
    duration: 50085,
    localEndpoint: {
      serviceName: "istio-ingressgateway.istio-system",
      ipv4: "10.244.111.168",
    },
    annotations: [
      {
        timestamp: 1672725818024913,
        value: "cr",
      },
    ],
    tags: {
      component: "proxy",
      downstream_cluster: "-",
      "guid:x-request-id": "669084db-e52d-9825-8d03-aab35afa6f4a",
      "http.method": "GET",
      "http.protocol": "HTTP/1.1",
      "http.status_code": "200",
      "http.url": "http://10.10.10.23/pdas/user/generalInfo",
      "istio.canonical_revision": "latest",
      "istio.canonical_service": "istio-ingressgateway",
      "istio.mesh_id": "cluster.local",
      "istio.namespace": "istio-system",
      node_id:
        "router~10.244.111.168~istio-ingressgateway-56d4dffdf-t2t8w.istio-system~istio-system.svc.cluster.local",
      "peer.address": "10.10.10.23",
      request_size: "0",
      response_flags: "-",
      response_size: "1980",
      upstream_cluster: "outbound|80||user-service.pdas.svc.cluster.local",
      "upstream_cluster.name":
        "outbound|80||user-service.pdas.svc.cluster.local",
      user_agent:
        "Mozilla/5.0 (X11; Linux x86_64; rv:109.0) Gecko/20100101 Firefox/110.0",
    },
  },
  {
    traceId: "dad62e0cb93a980cc6bba3d0762fefc8",
    parentId: "ab22aec8ee300093",
    id: "3f0ebe8b94ab3156",
    kind: "SERVER",
    name: "credential-service.pdas.svc.cluster.local:80/*",
    timestamp: 1672725817986037,
    duration: 6062,
    localEndpoint: {
      serviceName: "credential-service.pdas",
      ipv4: "10.244.111.191",
    },
    annotations: [
      {
        timestamp: 1672725817992269,
        value: "ss",
      },
    ],
    tags: {
      component: "proxy",
      downstream_cluster: "-",
      "guid:x-request-id": "669084db-e52d-9825-8d03-aab35afa6f4a",
      "http.method": "GET",
      "http.protocol": "HTTP/1.1",
      "http.status_code": "200",
      "http.url":
        "http://credential-service.pdas.svc.cluster.local/internal/user/verify",
      "istio.canonical_revision": "latest",
      "istio.canonical_service": "credential-service",
      "istio.mesh_id": "cluster.local",
      "istio.namespace": "pdas",
      node_id:
        "sidecar~10.244.111.191~credential-service-5b9bb878cf-dwlkt.pdas~pdas.svc.cluster.local",
      "peer.address": "10.244.111.134",
      request_size: "0",
      response_flags: "-",
      response_size: "7",
      upstream_cluster: "inbound|4508||",
      "upstream_cluster.name": "inbound|4508||",
      user_agent: "Java/11.0.9.1",
    },
  },
];

const rawLogs = [
  {
    namespace: "istio-system",
    podName: "istio-ingressgateway",
    timestamp: "2023-01-03T06:03:38.024954Z",
    type: "Response",
    requestId: "669084db-e52d-9825-8d03-aab35afa6f4a",
    traceId: "dad62e0cb93a980cc6bba3d0762fefc8",
    spanId: "d40b8bb597882141",
    parentSpanId: "c6bba3d0762fefc8",
    status: "200",
    body: '{"id":"","email":"","telephone":null,"mobilePhone":"","address":"","password":null,"userType":0,"certificates":[{"b64Certificate":"","certSerialNumber":""}],"keys":null,"principalName":"","organizationName":""}',
    contentType: "application/json",
  },
  {
    namespace: "pdas",
    podName: "user-service",
    timestamp: "2023-01-03T06:03:38.005654Z",
    type: "Request",
    requestId: "669084db-e52d-9825-8d03-aab35afa6f4a",
    traceId: "dad62e0cb93a980cc6bba3d0762fefc8",
    spanId: "d40b8bb597882141",
    parentSpanId: "c6bba3d0762fefc8",
    path: "/internal/user/verify",
    method: "GET",
    contentType: "application/json",
  },
  {
    namespace: "pdas",
    podName: "user-service",
    timestamp: "2023-01-03T06:03:38.005671Z",
    type: "Response",
    requestId: "669084db-e52d-9825-8d03-aab35afa6f4a",
    traceId: "dad62e0cb93a980cc6bba3d0762fefc8",
    spanId: "3f0ebe8b94ab3156",
    parentSpanId: "ab22aec8ee300093",
    status: "200",
    body: null,
    contentType: "application/json",
  },
  {
    namespace: "pdas",
    podName: "user-service",
    timestamp: "2023-01-03T06:03:38.024608Z",
    type: "Request",
    requestId: "669084db-e52d-9825-8d03-aab35afa6f4a",
    traceId: "dad62e0cb93a980cc6bba3d0762fefc8",
    spanId: "c6bba3d0762fefc8",
    parentSpanId: "NO_ID",
    path: "/pdas/user/generalInfo",
    method: "GET",
    contentType: "application/json",
  },
  {
    namespace: "pdas",
    podName: "user-service",
    timestamp: "2023-01-03T06:03:38.024632Z",
    type: "Response",
    requestId: "669084db-e52d-9825-8d03-aab35afa6f4a",
    traceId: "dad62e0cb93a980cc6bba3d0762fefc8",
    spanId: "d40b8bb597882141",
    parentSpanId: "c6bba3d0762fefc8",
    status: "200",
    body: '{"id":"","email":"","telephone":null,"mobilePhone":"","address":"","password":null,"userType":0,"certificates":[{"b64Certificate":"","certSerialNumber":""}],"keys":null,"principalName":"","organizationName":""}',
    contentType: "application/json",
  },
  {
    namespace: "pdas",
    podName: "credential-service",
    timestamp: "2023-01-03T06:03:38.005145Z",
    type: "Request",
    requestId: "669084db-e52d-9825-8d03-aab35afa6f4a",
    traceId: "dad62e0cb93a980cc6bba3d0762fefc8",
    spanId: "ab22aec8ee300093",
    parentSpanId: "d40b8bb597882141",
    path: "/internal/user/verify",
    method: "GET",
    contentType: "application/json",
  },
  {
    namespace: "pdas",
    podName: "credential-service",
    timestamp: "2023-01-03T06:03:38.005170Z",
    type: "Response",
    requestId: "669084db-e52d-9825-8d03-aab35afa6f4a",
    traceId: "dad62e0cb93a980cc6bba3d0762fefc8",
    spanId: "3f0ebe8b94ab3156",
    parentSpanId: "ab22aec8ee300093",
    status: "200",
    body: null,
    contentType: "application/json",
  },
].map((l) => ({ ...l, timestamp: new Date(l.timestamp) } as TEnvoyLog));

export { traces, rawLogs };
