import { TAggregatedData } from "../src/entities/TAggregatedData";
import { TCombinedRealtimeData } from "../src/entities/TCombinedRealtimeData";
import { TEndpointDataType } from "../src/entities/TEndpointDataType";
import { TEnvoyLog } from "../src/entities/TEnvoyLog";
import { THistoricalData } from "../src/entities/THistoricalData";
import { TRealtimeData } from "../src/entities/TRealtimeData";
import { TReplicaCount } from "../src/entities/TReplicaCount";
import { TServiceDependency } from "../src/entities/TServiceDependency";
import Utils from "../src/utils/Utils";

const MockTrace = [
  [
    {
      traceId: "e3fd80889442e5348963dc7c4027adad",
      parentId: "44ef0317e65caac8",
      id: "a1991338ebefbaca",
      kind: "SERVER",
      name: "ratings.book.svc.cluster.local:9080/*",
      timestamp: 1641106513382869,
      duration: 870,
      localEndpoint: {
        serviceName: "ratings.book",
        ipv4: "172.17.0.13",
      },
      annotations: [
        {
          timestamp: 1641106513383837,
          value: "ss",
        },
      ],
      tags: {
        component: "proxy",
        downstream_cluster: "-",
        "guid:x-request-id": "b3fb4501-2842-92ce-b5c5-bd5f5e92fe3f",
        "http.method": "GET",
        "http.protocol": "HTTP/1.1",
        "http.status_code": "200",
        "http.url": "http://ratings:9080/ratings/0",
        "istio.canonical_revision": "v1",
        "istio.canonical_service": "ratings",
        "istio.mesh_id": "cluster.local",
        "istio.namespace": "book",
        node_id:
          "sidecar~172.17.0.13~ratings-v1-5fcf4d8fcf-cbrlk.book~book.svc.cluster.local",
        "peer.address": "172.17.0.3",
        request_size: "0",
        response_flags: "-",
        response_size: "48",
        upstream_cluster: "inbound|9080||",
        "upstream_cluster.name": "inbound|9080||",
        user_agent:
          "Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/96.0.4664.93 Safari/537.36 Edg/96.0.1054.53",
      },
    },
    {
      traceId: "e3fd80889442e5348963dc7c4027adad",
      parentId: "2cbb41d7e7232a28",
      id: "44ef0317e65caac8",
      kind: "CLIENT",
      name: "ratings.book.svc.cluster.local:9080/*",
      timestamp: 1641106513382502,
      duration: 1907,
      localEndpoint: {
        serviceName: "reviews.book",
        ipv4: "172.17.0.3",
      },
      annotations: [
        {
          timestamp: 1641106513384505,
          value: "cr",
        },
      ],
      tags: {
        component: "proxy",
        downstream_cluster: "-",
        "guid:x-request-id": "b3fb4501-2842-92ce-b5c5-bd5f5e92fe3f",
        "http.method": "GET",
        "http.protocol": "HTTP/1.1",
        "http.status_code": "200",
        "http.url": "http://ratings:9080/ratings/0",
        "istio.canonical_revision": "v2",
        "istio.canonical_service": "reviews",
        "istio.mesh_id": "cluster.local",
        "istio.namespace": "book",
        node_id:
          "sidecar~172.17.0.3~reviews-v2-d5dccbf9-t6xbq.book~book.svc.cluster.local",
        "peer.address": "172.17.0.3",
        request_size: "0",
        response_flags: "-",
        response_size: "48",
        upstream_cluster: "outbound|9080||ratings.book.svc.cluster.local",
        "upstream_cluster.name":
          "outbound|9080||ratings.book.svc.cluster.local",
        user_agent:
          "Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/96.0.4664.93 Safari/537.36 Edg/96.0.1054.53",
      },
    },
    {
      traceId: "e3fd80889442e5348963dc7c4027adad",
      parentId: "f20b4667228a5520",
      id: "2cbb41d7e7232a28",
      kind: "SERVER",
      name: "reviews.book.svc.cluster.local:9080/*",
      timestamp: 1641106513376492,
      duration: 10201,
      localEndpoint: {
        serviceName: "reviews.book",
        ipv4: "172.17.0.3",
      },
      annotations: [
        {
          timestamp: 1641106513386814,
          value: "ss",
        },
      ],
      tags: {
        component: "proxy",
        downstream_cluster: "-",
        "guid:x-request-id": "b3fb4501-2842-92ce-b5c5-bd5f5e92fe3f",
        "http.method": "GET",
        "http.protocol": "HTTP/1.1",
        "http.status_code": "200",
        "http.url": "http://reviews:9080/reviews/0",
        "istio.canonical_revision": "v2",
        "istio.canonical_service": "reviews",
        "istio.mesh_id": "cluster.local",
        "istio.namespace": "book",
        node_id:
          "sidecar~172.17.0.3~reviews-v2-d5dccbf9-t6xbq.book~book.svc.cluster.local",
        "peer.address": "172.17.0.6",
        request_size: "0",
        response_flags: "-",
        response_size: "379",
        upstream_cluster: "inbound|9080||",
        "upstream_cluster.name": "inbound|9080||",
        user_agent:
          "Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/96.0.4664.93 Safari/537.36 Edg/96.0.1054.53",
      },
    },
    {
      traceId: "e3fd80889442e5348963dc7c4027adad",
      parentId: "8963dc7c4027adad",
      id: "6e0d90b2ffb3be5b",
      kind: "SERVER",
      name: "productpage.book.svc.cluster.local:9080/productpage",
      timestamp: 1641106513365157,
      duration: 24435,
      localEndpoint: {
        serviceName: "productpage.book",
        ipv4: "172.17.0.6",
      },
      annotations: [
        {
          timestamp: 1641106513389731,
          value: "ss",
        },
      ],
      tags: {
        component: "proxy",
        downstream_cluster: "-",
        "guid:x-request-id": "b3fb4501-2842-92ce-b5c5-bd5f5e92fe3f",
        "http.method": "GET",
        "http.protocol": "HTTP/1.1",
        "http.status_code": "200",
        "http.url": "http://192.168.39.24:31629/productpage",
        "istio.canonical_revision": "v1",
        "istio.canonical_service": "productpage",
        "istio.mesh_id": "cluster.local",
        "istio.namespace": "book",
        node_id:
          "sidecar~172.17.0.6~productpage-v1-68d947fbdf-rvpgh.book~book.svc.cluster.local",
        "peer.address": "172.17.0.10",
        request_size: "0",
        response_flags: "-",
        response_size: "5183",
        upstream_cluster: "inbound|9080||",
        "upstream_cluster.name": "inbound|9080||",
        user_agent:
          "Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/96.0.4664.93 Safari/537.36 Edg/96.0.1054.53",
      },
    },
    {
      traceId: "e3fd80889442e5348963dc7c4027adad",
      parentId: "c0014e16b4ff31d6",
      id: "ac4e36b29e871d83",
      kind: "SERVER",
      name: "details.book.svc.cluster.local:9080/*",
      timestamp: 1641106513369395,
      duration: 992,
      localEndpoint: {
        serviceName: "details.book",
        ipv4: "172.17.0.4",
      },
      annotations: [
        {
          timestamp: 1641106513370455,
          value: "ss",
        },
      ],
      tags: {
        component: "proxy",
        downstream_cluster: "-",
        "guid:x-request-id": "b3fb4501-2842-92ce-b5c5-bd5f5e92fe3f",
        "http.method": "GET",
        "http.protocol": "HTTP/1.1",
        "http.status_code": "200",
        "http.url": "http://details:9080/details/0",
        "istio.canonical_revision": "v1",
        "istio.canonical_service": "details",
        "istio.mesh_id": "cluster.local",
        "istio.namespace": "book",
        node_id:
          "sidecar~172.17.0.4~details-v1-7dcb9897f-pnxxc.book~book.svc.cluster.local",
        "peer.address": "172.17.0.6",
        request_size: "0",
        response_flags: "-",
        response_size: "178",
        upstream_cluster: "inbound|9080||",
        "upstream_cluster.name": "inbound|9080||",
        user_agent:
          "Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/96.0.4664.93 Safari/537.36 Edg/96.0.1054.53",
      },
    },
    {
      traceId: "e3fd80889442e5348963dc7c4027adad",
      parentId: "6e0d90b2ffb3be5b",
      id: "c0014e16b4ff31d6",
      kind: "CLIENT",
      name: "details.book.svc.cluster.local:9080/*",
      timestamp: 1641106513369134,
      duration: 1471,
      localEndpoint: {
        serviceName: "productpage.book",
        ipv4: "172.17.0.6",
      },
      annotations: [
        {
          timestamp: 1641106513370667,
          value: "cr",
        },
      ],
      tags: {
        component: "proxy",
        downstream_cluster: "-",
        "guid:x-request-id": "b3fb4501-2842-92ce-b5c5-bd5f5e92fe3f",
        "http.method": "GET",
        "http.protocol": "HTTP/1.1",
        "http.status_code": "200",
        "http.url": "http://details:9080/details/0",
        "istio.canonical_revision": "v1",
        "istio.canonical_service": "productpage",
        "istio.mesh_id": "cluster.local",
        "istio.namespace": "book",
        node_id:
          "sidecar~172.17.0.6~productpage-v1-68d947fbdf-rvpgh.book~book.svc.cluster.local",
        "peer.address": "172.17.0.6",
        request_size: "0",
        response_flags: "-",
        response_size: "178",
        upstream_cluster: "outbound|9080||details.book.svc.cluster.local",
        "upstream_cluster.name":
          "outbound|9080||details.book.svc.cluster.local",
        user_agent:
          "Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/96.0.4664.93 Safari/537.36 Edg/96.0.1054.53",
      },
    },
    {
      traceId: "e3fd80889442e5348963dc7c4027adad",
      parentId: "6e0d90b2ffb3be5b",
      id: "f20b4667228a5520",
      kind: "CLIENT",
      name: "reviews.book.svc.cluster.local:9080/*",
      timestamp: 1641106513373620,
      duration: 14170,
      localEndpoint: {
        serviceName: "productpage.book",
        ipv4: "172.17.0.6",
      },
      annotations: [
        {
          timestamp: 1641106513387823,
          value: "cr",
        },
      ],
      tags: {
        component: "proxy",
        downstream_cluster: "-",
        "guid:x-request-id": "b3fb4501-2842-92ce-b5c5-bd5f5e92fe3f",
        "http.method": "GET",
        "http.protocol": "HTTP/1.1",
        "http.status_code": "200",
        "http.url": "http://reviews:9080/reviews/0",
        "istio.canonical_revision": "v1",
        "istio.canonical_service": "productpage",
        "istio.mesh_id": "cluster.local",
        "istio.namespace": "book",
        node_id:
          "sidecar~172.17.0.6~productpage-v1-68d947fbdf-rvpgh.book~book.svc.cluster.local",
        "peer.address": "172.17.0.6",
        request_size: "0",
        response_flags: "-",
        response_size: "379",
        upstream_cluster: "outbound|9080||reviews.book.svc.cluster.local",
        "upstream_cluster.name":
          "outbound|9080||reviews.book.svc.cluster.local",
        user_agent:
          "Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/96.0.4664.93 Safari/537.36 Edg/96.0.1054.53",
      },
    },
    {
      traceId: "e3fd80889442e5348963dc7c4027adad",
      id: "8963dc7c4027adad",
      kind: "CLIENT",
      name: "productpage.book.svc.cluster.local:9080/productpage",
      timestamp: 1641106513364869,
      duration: 25193,
      localEndpoint: {
        serviceName: "istio-ingressgateway.istio-system",
        ipv4: "172.17.0.10",
      },
      annotations: [
        {
          timestamp: 1641106513390131,
          value: "cr",
        },
      ],
      tags: {
        component: "proxy",
        downstream_cluster: "-",
        "guid:x-request-id": "b3fb4501-2842-92ce-b5c5-bd5f5e92fe3f",
        "http.method": "GET",
        "http.protocol": "HTTP/1.1",
        "http.status_code": "200",
        "http.url": "http://192.168.39.24:31629/productpage",
        "istio.canonical_revision": "latest",
        "istio.canonical_service": "istio-ingressgateway",
        "istio.mesh_id": "cluster.local",
        "istio.namespace": "istio-system",
        node_id:
          "router~172.17.0.10~istio-ingressgateway-8577c57fb6-htvml.istio-system~istio-system.svc.cluster.local",
        "peer.address": "172.17.0.1",
        request_size: "0",
        response_flags: "-",
        response_size: "5183",
        upstream_cluster: "outbound|9080||productpage.book.svc.cluster.local",
        "upstream_cluster.name":
          "outbound|9080||productpage.book.svc.cluster.local",
        user_agent:
          "Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/96.0.4664.93 Safari/537.36 Edg/96.0.1054.53",
      },
    },
  ],
  [
    {
      traceId: "9596041bf3b41d9b464a257484cbb2c0",
      parentId: "0cc9a016db5376f6",
      id: "63784dd1026eb492",
      kind: "SERVER",
      name: "ratings.book.svc.cluster.local:9080/*",
      timestamp: 1641106513273682,
      duration: 784,
      localEndpoint: {
        serviceName: "ratings.book",
        ipv4: "172.17.0.13",
      },
      annotations: [
        {
          timestamp: 1641106513274554,
          value: "ss",
        },
      ],
      tags: {
        component: "proxy",
        downstream_cluster: "-",
        "guid:x-request-id": "76f31010-13ea-9b0e-9287-219faa0223d5",
        "http.method": "GET",
        "http.protocol": "HTTP/1.1",
        "http.status_code": "200",
        "http.url": "http://ratings:9080/ratings/0",
        "istio.canonical_revision": "v1",
        "istio.canonical_service": "ratings",
        "istio.mesh_id": "cluster.local",
        "istio.namespace": "book",
        node_id:
          "sidecar~172.17.0.13~ratings-v1-5fcf4d8fcf-cbrlk.book~book.svc.cluster.local",
        "peer.address": "172.17.0.11",
        request_size: "0",
        response_flags: "-",
        response_size: "48",
        upstream_cluster: "inbound|9080||",
        "upstream_cluster.name": "inbound|9080||",
        user_agent:
          "Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/96.0.4664.93 Safari/537.36 Edg/96.0.1054.53",
      },
    },
    {
      traceId: "9596041bf3b41d9b464a257484cbb2c0",
      parentId: "d42e400bc14a4dfa",
      id: "0cc9a016db5376f6",
      kind: "CLIENT",
      name: "ratings.book.svc.cluster.local:9080/*",
      timestamp: 1641106513273331,
      duration: 1446,
      localEndpoint: {
        serviceName: "reviews.book",
        ipv4: "172.17.0.11",
      },
      annotations: [
        {
          timestamp: 1641106513274859,
          value: "cr",
        },
      ],
      tags: {
        component: "proxy",
        downstream_cluster: "-",
        "guid:x-request-id": "76f31010-13ea-9b0e-9287-219faa0223d5",
        "http.method": "GET",
        "http.protocol": "HTTP/1.1",
        "http.status_code": "200",
        "http.url": "http://ratings:9080/ratings/0",
        "istio.canonical_revision": "v3",
        "istio.canonical_service": "reviews",
        "istio.mesh_id": "cluster.local",
        "istio.namespace": "book",
        node_id:
          "sidecar~172.17.0.11~reviews-v3-69d9c8447-pvtkc.book~book.svc.cluster.local",
        "peer.address": "172.17.0.11",
        request_size: "0",
        response_flags: "-",
        response_size: "48",
        upstream_cluster: "outbound|9080||ratings.book.svc.cluster.local",
        "upstream_cluster.name":
          "outbound|9080||ratings.book.svc.cluster.local",
        user_agent:
          "Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/96.0.4664.93 Safari/537.36 Edg/96.0.1054.53",
      },
    },
    {
      traceId: "9596041bf3b41d9b464a257484cbb2c0",
      parentId: "464a257484cbb2c0",
      id: "2e26578ea86a65b8",
      kind: "SERVER",
      name: "productpage.book.svc.cluster.local:9080/productpage",
      timestamp: 1641106513258137,
      duration: 33110,
      localEndpoint: {
        serviceName: "productpage.book",
        ipv4: "172.17.0.6",
      },
      annotations: [
        {
          timestamp: 1641106513291349,
          value: "ss",
        },
      ],
      tags: {
        component: "proxy",
        downstream_cluster: "-",
        "guid:x-request-id": "76f31010-13ea-9b0e-9287-219faa0223d5",
        "http.method": "GET",
        "http.protocol": "HTTP/1.1",
        "http.status_code": "200",
        "http.url": "http://192.168.39.24:31629/productpage",
        "istio.canonical_revision": "v1",
        "istio.canonical_service": "productpage",
        "istio.mesh_id": "cluster.local",
        "istio.namespace": "book",
        node_id:
          "sidecar~172.17.0.6~productpage-v1-68d947fbdf-rvpgh.book~book.svc.cluster.local",
        "peer.address": "172.17.0.10",
        request_size: "0",
        response_flags: "-",
        response_size: "5179",
        upstream_cluster: "inbound|9080||",
        "upstream_cluster.name": "inbound|9080||",
        user_agent:
          "Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/96.0.4664.93 Safari/537.36 Edg/96.0.1054.53",
      },
    },
    {
      traceId: "9596041bf3b41d9b464a257484cbb2c0",
      parentId: "09f4c9349a787969",
      id: "0a4681883c163524",
      kind: "SERVER",
      name: "details.book.svc.cluster.local:9080/*",
      timestamp: 1641106513261208,
      duration: 862,
      localEndpoint: {
        serviceName: "details.book",
        ipv4: "172.17.0.4",
      },
      annotations: [
        {
          timestamp: 1641106513262155,
          value: "ss",
        },
      ],
      tags: {
        component: "proxy",
        downstream_cluster: "-",
        "guid:x-request-id": "76f31010-13ea-9b0e-9287-219faa0223d5",
        "http.method": "GET",
        "http.protocol": "HTTP/1.1",
        "http.status_code": "200",
        "http.url": "http://details:9080/details/0",
        "istio.canonical_revision": "v1",
        "istio.canonical_service": "details",
        "istio.mesh_id": "cluster.local",
        "istio.namespace": "book",
        node_id:
          "sidecar~172.17.0.4~details-v1-7dcb9897f-pnxxc.book~book.svc.cluster.local",
        "peer.address": "172.17.0.6",
        request_size: "0",
        response_flags: "-",
        response_size: "178",
        upstream_cluster: "inbound|9080||",
        "upstream_cluster.name": "inbound|9080||",
        user_agent:
          "Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/96.0.4664.93 Safari/537.36 Edg/96.0.1054.53",
      },
    },
    {
      traceId: "9596041bf3b41d9b464a257484cbb2c0",
      parentId: "2e26578ea86a65b8",
      id: "09f4c9349a787969",
      kind: "CLIENT",
      name: "details.book.svc.cluster.local:9080/*",
      timestamp: 1641106513260945,
      duration: 1411,
      localEndpoint: {
        serviceName: "productpage.book",
        ipv4: "172.17.0.6",
      },
      annotations: [
        {
          timestamp: 1641106513262406,
          value: "cr",
        },
      ],
      tags: {
        component: "proxy",
        downstream_cluster: "-",
        "guid:x-request-id": "76f31010-13ea-9b0e-9287-219faa0223d5",
        "http.method": "GET",
        "http.protocol": "HTTP/1.1",
        "http.status_code": "200",
        "http.url": "http://details:9080/details/0",
        "istio.canonical_revision": "v1",
        "istio.canonical_service": "productpage",
        "istio.mesh_id": "cluster.local",
        "istio.namespace": "book",
        node_id:
          "sidecar~172.17.0.6~productpage-v1-68d947fbdf-rvpgh.book~book.svc.cluster.local",
        "peer.address": "172.17.0.6",
        request_size: "0",
        response_flags: "-",
        response_size: "178",
        upstream_cluster: "outbound|9080||details.book.svc.cluster.local",
        "upstream_cluster.name":
          "outbound|9080||details.book.svc.cluster.local",
        user_agent:
          "Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/96.0.4664.93 Safari/537.36 Edg/96.0.1054.53",
      },
    },
    {
      traceId: "9596041bf3b41d9b464a257484cbb2c0",
      parentId: "2e26578ea86a65b8",
      id: "99366ce1db5d3cd1",
      kind: "CLIENT",
      name: "reviews.book.svc.cluster.local:9080/*",
      timestamp: 1641106513264309,
      duration: 24640,
      localEndpoint: {
        serviceName: "productpage.book",
        ipv4: "172.17.0.6",
      },
      annotations: [
        {
          timestamp: 1641106513288988,
          value: "cr",
        },
      ],
      tags: {
        component: "proxy",
        downstream_cluster: "-",
        "guid:x-request-id": "76f31010-13ea-9b0e-9287-219faa0223d5",
        "http.method": "GET",
        "http.protocol": "HTTP/1.1",
        "http.status_code": "200",
        "http.url": "http://reviews:9080/reviews/0",
        "istio.canonical_revision": "v1",
        "istio.canonical_service": "productpage",
        "istio.mesh_id": "cluster.local",
        "istio.namespace": "book",
        node_id:
          "sidecar~172.17.0.6~productpage-v1-68d947fbdf-rvpgh.book~book.svc.cluster.local",
        "peer.address": "172.17.0.6",
        request_size: "0",
        response_flags: "-",
        response_size: "375",
        upstream_cluster: "outbound|9080||reviews.book.svc.cluster.local",
        "upstream_cluster.name":
          "outbound|9080||reviews.book.svc.cluster.local",
        user_agent:
          "Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/96.0.4664.93 Safari/537.36 Edg/96.0.1054.53",
      },
    },
    {
      traceId: "9596041bf3b41d9b464a257484cbb2c0",
      parentId: "99366ce1db5d3cd1",
      id: "d42e400bc14a4dfa",
      kind: "SERVER",
      name: "reviews.book.svc.cluster.local:9080/*",
      timestamp: 1641106513267199,
      duration: 9305,
      localEndpoint: {
        serviceName: "reviews.book",
        ipv4: "172.17.0.11",
      },
      annotations: [
        {
          timestamp: 1641106513276681,
          value: "ss",
        },
      ],
      tags: {
        component: "proxy",
        downstream_cluster: "-",
        "guid:x-request-id": "76f31010-13ea-9b0e-9287-219faa0223d5",
        "http.method": "GET",
        "http.protocol": "HTTP/1.1",
        "http.status_code": "200",
        "http.url": "http://reviews:9080/reviews/0",
        "istio.canonical_revision": "v3",
        "istio.canonical_service": "reviews",
        "istio.mesh_id": "cluster.local",
        "istio.namespace": "book",
        node_id:
          "sidecar~172.17.0.11~reviews-v3-69d9c8447-pvtkc.book~book.svc.cluster.local",
        "peer.address": "172.17.0.6",
        request_size: "0",
        response_flags: "-",
        response_size: "375",
        upstream_cluster: "inbound|9080||",
        "upstream_cluster.name": "inbound|9080||",
        user_agent:
          "Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/96.0.4664.93 Safari/537.36 Edg/96.0.1054.53",
      },
    },
    {
      traceId: "9596041bf3b41d9b464a257484cbb2c0",
      id: "464a257484cbb2c0",
      kind: "CLIENT",
      name: "productpage.book.svc.cluster.local:9080/productpage",
      timestamp: 1641106513257878,
      duration: 33847,
      localEndpoint: {
        serviceName: "istio-ingressgateway.istio-system",
        ipv4: "172.17.0.10",
      },
      annotations: [
        {
          timestamp: 1641106513291807,
          value: "cr",
        },
      ],
      tags: {
        component: "proxy",
        downstream_cluster: "-",
        "guid:x-request-id": "76f31010-13ea-9b0e-9287-219faa0223d5",
        "http.method": "GET",
        "http.protocol": "HTTP/1.1",
        "http.status_code": "200",
        "http.url": "http://192.168.39.24:31629/productpage",
        "istio.canonical_revision": "latest",
        "istio.canonical_service": "istio-ingressgateway",
        "istio.mesh_id": "cluster.local",
        "istio.namespace": "istio-system",
        node_id:
          "router~172.17.0.10~istio-ingressgateway-8577c57fb6-htvml.istio-system~istio-system.svc.cluster.local",
        "peer.address": "172.17.0.1",
        request_size: "0",
        response_flags: "-",
        response_size: "5179",
        upstream_cluster: "outbound|9080||productpage.book.svc.cluster.local",
        "upstream_cluster.name":
          "outbound|9080||productpage.book.svc.cluster.local",
        user_agent:
          "Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/96.0.4664.93 Safari/537.36 Edg/96.0.1054.53",
      },
    },
  ],
  [
    {
      traceId: "a9fc6dd3e190930d6eeaa1d6a1e72db5",
      parentId: "a2e5d2fc4b01f693",
      id: "600d0e22b2dfb4e8",
      kind: "CLIENT",
      name: "details.book.svc.cluster.local:9080/*",
      timestamp: 1641106513120892,
      duration: 1518,
      localEndpoint: {
        serviceName: "productpage.book",
        ipv4: "172.17.0.6",
      },
      annotations: [
        {
          timestamp: 1641106513122482,
          value: "cr",
        },
      ],
      tags: {
        component: "proxy",
        downstream_cluster: "-",
        "guid:x-request-id": "8bb0dc78-8ee6-9cbe-a654-8f12dc3a6d4a",
        "http.method": "GET",
        "http.protocol": "HTTP/1.1",
        "http.status_code": "200",
        "http.url": "http://details:9080/details/0",
        "istio.canonical_revision": "v1",
        "istio.canonical_service": "productpage",
        "istio.mesh_id": "cluster.local",
        "istio.namespace": "book",
        node_id:
          "sidecar~172.17.0.6~productpage-v1-68d947fbdf-rvpgh.book~book.svc.cluster.local",
        "peer.address": "172.17.0.6",
        request_size: "0",
        response_flags: "-",
        response_size: "178",
        upstream_cluster: "outbound|9080||details.book.svc.cluster.local",
        "upstream_cluster.name":
          "outbound|9080||details.book.svc.cluster.local",
        user_agent:
          "Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/96.0.4664.93 Safari/537.36 Edg/96.0.1054.53",
      },
    },
    {
      traceId: "a9fc6dd3e190930d6eeaa1d6a1e72db5",
      parentId: "3808d88cbc383939",
      id: "6dffa7abb679f38d",
      kind: "SERVER",
      name: "ratings.book.svc.cluster.local:9080/*",
      timestamp: 1641106513131596,
      duration: 583,
      localEndpoint: {
        serviceName: "ratings.book",
        ipv4: "172.17.0.13",
      },
      annotations: [
        {
          timestamp: 1641106513132260,
          value: "ss",
        },
      ],
      tags: {
        component: "proxy",
        downstream_cluster: "-",
        "guid:x-request-id": "8bb0dc78-8ee6-9cbe-a654-8f12dc3a6d4a",
        "http.method": "GET",
        "http.protocol": "HTTP/1.1",
        "http.status_code": "200",
        "http.url": "http://ratings:9080/ratings/0",
        "istio.canonical_revision": "v1",
        "istio.canonical_service": "ratings",
        "istio.mesh_id": "cluster.local",
        "istio.namespace": "book",
        node_id:
          "sidecar~172.17.0.13~ratings-v1-5fcf4d8fcf-cbrlk.book~book.svc.cluster.local",
        "peer.address": "172.17.0.3",
        request_size: "0",
        response_flags: "-",
        response_size: "48",
        upstream_cluster: "inbound|9080||",
        "upstream_cluster.name": "inbound|9080||",
        user_agent:
          "Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/96.0.4664.93 Safari/537.36 Edg/96.0.1054.53",
      },
    },
    {
      traceId: "a9fc6dd3e190930d6eeaa1d6a1e72db5",
      parentId: "dd3e5210f5fda9f4",
      id: "3808d88cbc383939",
      kind: "CLIENT",
      name: "ratings.book.svc.cluster.local:9080/*",
      timestamp: 1641106513131285,
      duration: 1138,
      localEndpoint: {
        serviceName: "reviews.book",
        ipv4: "172.17.0.3",
      },
      annotations: [
        {
          timestamp: 1641106513132504,
          value: "cr",
        },
      ],
      tags: {
        component: "proxy",
        downstream_cluster: "-",
        "guid:x-request-id": "8bb0dc78-8ee6-9cbe-a654-8f12dc3a6d4a",
        "http.method": "GET",
        "http.protocol": "HTTP/1.1",
        "http.status_code": "200",
        "http.url": "http://ratings:9080/ratings/0",
        "istio.canonical_revision": "v2",
        "istio.canonical_service": "reviews",
        "istio.mesh_id": "cluster.local",
        "istio.namespace": "book",
        node_id:
          "sidecar~172.17.0.3~reviews-v2-d5dccbf9-t6xbq.book~book.svc.cluster.local",
        "peer.address": "172.17.0.3",
        request_size: "0",
        response_flags: "-",
        response_size: "48",
        upstream_cluster: "outbound|9080||ratings.book.svc.cluster.local",
        "upstream_cluster.name":
          "outbound|9080||ratings.book.svc.cluster.local",
        user_agent:
          "Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/96.0.4664.93 Safari/537.36 Edg/96.0.1054.53",
      },
    },
    {
      traceId: "a9fc6dd3e190930d6eeaa1d6a1e72db5",
      parentId: "a2e5d2fc4b01f693",
      id: "cd9124e13058c236",
      kind: "CLIENT",
      name: "reviews.book.svc.cluster.local:9080/*",
      timestamp: 1641106513126209,
      duration: 8063,
      localEndpoint: {
        serviceName: "productpage.book",
        ipv4: "172.17.0.6",
      },
      annotations: [
        {
          timestamp: 1641106513134378,
          value: "cr",
        },
      ],
      tags: {
        component: "proxy",
        downstream_cluster: "-",
        "guid:x-request-id": "8bb0dc78-8ee6-9cbe-a654-8f12dc3a6d4a",
        "http.method": "GET",
        "http.protocol": "HTTP/1.1",
        "http.status_code": "200",
        "http.url": "http://reviews:9080/reviews/0",
        "istio.canonical_revision": "v1",
        "istio.canonical_service": "productpage",
        "istio.mesh_id": "cluster.local",
        "istio.namespace": "book",
        node_id:
          "sidecar~172.17.0.6~productpage-v1-68d947fbdf-rvpgh.book~book.svc.cluster.local",
        "peer.address": "172.17.0.6",
        request_size: "0",
        response_flags: "-",
        response_size: "379",
        upstream_cluster: "outbound|9080||reviews.book.svc.cluster.local",
        "upstream_cluster.name":
          "outbound|9080||reviews.book.svc.cluster.local",
        user_agent:
          "Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/96.0.4664.93 Safari/537.36 Edg/96.0.1054.53",
      },
    },
    {
      traceId: "a9fc6dd3e190930d6eeaa1d6a1e72db5",
      parentId: "cd9124e13058c236",
      id: "dd3e5210f5fda9f4",
      kind: "SERVER",
      name: "reviews.book.svc.cluster.local:9080/*",
      timestamp: 1641106513126541,
      duration: 7403,
      localEndpoint: {
        serviceName: "reviews.book",
        ipv4: "172.17.0.3",
      },
      annotations: [
        {
          timestamp: 1641106513134009,
          value: "ss",
        },
      ],
      tags: {
        component: "proxy",
        downstream_cluster: "-",
        "guid:x-request-id": "8bb0dc78-8ee6-9cbe-a654-8f12dc3a6d4a",
        "http.method": "GET",
        "http.protocol": "HTTP/1.1",
        "http.status_code": "200",
        "http.url": "http://reviews:9080/reviews/0",
        "istio.canonical_revision": "v2",
        "istio.canonical_service": "reviews",
        "istio.mesh_id": "cluster.local",
        "istio.namespace": "book",
        node_id:
          "sidecar~172.17.0.3~reviews-v2-d5dccbf9-t6xbq.book~book.svc.cluster.local",
        "peer.address": "172.17.0.6",
        request_size: "0",
        response_flags: "-",
        response_size: "379",
        upstream_cluster: "inbound|9080||",
        "upstream_cluster.name": "inbound|9080||",
        user_agent:
          "Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/96.0.4664.93 Safari/537.36 Edg/96.0.1054.53",
      },
    },
    {
      traceId: "a9fc6dd3e190930d6eeaa1d6a1e72db5",
      parentId: "6eeaa1d6a1e72db5",
      id: "a2e5d2fc4b01f693",
      kind: "SERVER",
      name: "productpage.book.svc.cluster.local:9080/productpage",
      timestamp: 1641106513117112,
      duration: 19111,
      localEndpoint: {
        serviceName: "productpage.book",
        ipv4: "172.17.0.6",
      },
      annotations: [
        {
          timestamp: 1641106513136401,
          value: "ss",
        },
      ],
      tags: {
        component: "proxy",
        downstream_cluster: "-",
        "guid:x-request-id": "8bb0dc78-8ee6-9cbe-a654-8f12dc3a6d4a",
        "http.method": "GET",
        "http.protocol": "HTTP/1.1",
        "http.status_code": "200",
        "http.url": "http://192.168.39.24:31629/productpage",
        "istio.canonical_revision": "v1",
        "istio.canonical_service": "productpage",
        "istio.mesh_id": "cluster.local",
        "istio.namespace": "book",
        node_id:
          "sidecar~172.17.0.6~productpage-v1-68d947fbdf-rvpgh.book~book.svc.cluster.local",
        "peer.address": "172.17.0.10",
        request_size: "0",
        response_flags: "-",
        response_size: "5183",
        upstream_cluster: "inbound|9080||",
        "upstream_cluster.name": "inbound|9080||",
        user_agent:
          "Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/96.0.4664.93 Safari/537.36 Edg/96.0.1054.53",
      },
    },
    {
      traceId: "a9fc6dd3e190930d6eeaa1d6a1e72db5",
      parentId: "600d0e22b2dfb4e8",
      id: "c7250bd94dc25e9d",
      kind: "SERVER",
      name: "details.book.svc.cluster.local:9080/*",
      timestamp: 1641106513121203,
      duration: 892,
      localEndpoint: {
        serviceName: "details.book",
        ipv4: "172.17.0.4",
      },
      annotations: [
        {
          timestamp: 1641106513122185,
          value: "ss",
        },
      ],
      tags: {
        component: "proxy",
        downstream_cluster: "-",
        "guid:x-request-id": "8bb0dc78-8ee6-9cbe-a654-8f12dc3a6d4a",
        "http.method": "GET",
        "http.protocol": "HTTP/1.1",
        "http.status_code": "200",
        "http.url": "http://details:9080/details/0",
        "istio.canonical_revision": "v1",
        "istio.canonical_service": "details",
        "istio.mesh_id": "cluster.local",
        "istio.namespace": "book",
        node_id:
          "sidecar~172.17.0.4~details-v1-7dcb9897f-pnxxc.book~book.svc.cluster.local",
        "peer.address": "172.17.0.6",
        request_size: "0",
        response_flags: "-",
        response_size: "178",
        upstream_cluster: "inbound|9080||",
        "upstream_cluster.name": "inbound|9080||",
        user_agent:
          "Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/96.0.4664.93 Safari/537.36 Edg/96.0.1054.53",
      },
    },
    {
      traceId: "a9fc6dd3e190930d6eeaa1d6a1e72db5",
      id: "6eeaa1d6a1e72db5",
      kind: "CLIENT",
      name: "productpage.book.svc.cluster.local:9080/productpage",
      timestamp: 1641106513116814,
      duration: 19820,
      localEndpoint: {
        serviceName: "istio-ingressgateway.istio-system",
        ipv4: "172.17.0.10",
      },
      annotations: [
        {
          timestamp: 1641106513136707,
          value: "cr",
        },
      ],
      tags: {
        component: "proxy",
        downstream_cluster: "-",
        "guid:x-request-id": "8bb0dc78-8ee6-9cbe-a654-8f12dc3a6d4a",
        "http.method": "GET",
        "http.protocol": "HTTP/1.1",
        "http.status_code": "200",
        "http.url": "http://192.168.39.24:31629/productpage",
        "istio.canonical_revision": "latest",
        "istio.canonical_service": "istio-ingressgateway",
        "istio.mesh_id": "cluster.local",
        "istio.namespace": "istio-system",
        node_id:
          "router~172.17.0.10~istio-ingressgateway-8577c57fb6-htvml.istio-system~istio-system.svc.cluster.local",
        "peer.address": "172.17.0.1",
        request_size: "0",
        response_flags: "-",
        response_size: "5183",
        upstream_cluster: "outbound|9080||productpage.book.svc.cluster.local",
        "upstream_cluster.name":
          "outbound|9080||productpage.book.svc.cluster.local",
        user_agent:
          "Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/96.0.4664.93 Safari/537.36 Edg/96.0.1054.53",
      },
    },
  ],
  [
    {
      traceId: "8135a70db659bdbfa91cb70743fa5896",
      parentId: "24a5390bfe17daf9",
      id: "62435d005f3aa405",
      kind: "SERVER",
      name: "details.book.svc.cluster.local:9080/*",
      timestamp: 1641106513006617,
      duration: 970,
      localEndpoint: {
        serviceName: "details.book",
        ipv4: "172.17.0.4",
      },
      annotations: [
        {
          timestamp: 1641106513007713,
          value: "ss",
        },
      ],
      tags: {
        component: "proxy",
        downstream_cluster: "-",
        "guid:x-request-id": "41efb077-b24a-9f6d-a8be-46298cb6c129",
        "http.method": "GET",
        "http.protocol": "HTTP/1.1",
        "http.status_code": "200",
        "http.url": "http://details:9080/details/0",
        "istio.canonical_revision": "v1",
        "istio.canonical_service": "details",
        "istio.mesh_id": "cluster.local",
        "istio.namespace": "book",
        node_id:
          "sidecar~172.17.0.4~details-v1-7dcb9897f-pnxxc.book~book.svc.cluster.local",
        "peer.address": "172.17.0.6",
        request_size: "0",
        response_flags: "-",
        response_size: "178",
        upstream_cluster: "inbound|9080||",
        "upstream_cluster.name": "inbound|9080||",
        user_agent:
          "Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/96.0.4664.93 Safari/537.36 Edg/96.0.1054.53",
      },
    },
    {
      traceId: "8135a70db659bdbfa91cb70743fa5896",
      parentId: "2a0233d77b02be8f",
      id: "24a5390bfe17daf9",
      kind: "CLIENT",
      name: "details.book.svc.cluster.local:9080/*",
      timestamp: 1641106513006370,
      duration: 2159,
      localEndpoint: {
        serviceName: "productpage.book",
        ipv4: "172.17.0.6",
      },
      annotations: [
        {
          timestamp: 1641106513008574,
          value: "cr",
        },
      ],
      tags: {
        component: "proxy",
        downstream_cluster: "-",
        "guid:x-request-id": "41efb077-b24a-9f6d-a8be-46298cb6c129",
        "http.method": "GET",
        "http.protocol": "HTTP/1.1",
        "http.status_code": "200",
        "http.url": "http://details:9080/details/0",
        "istio.canonical_revision": "v1",
        "istio.canonical_service": "productpage",
        "istio.mesh_id": "cluster.local",
        "istio.namespace": "book",
        node_id:
          "sidecar~172.17.0.6~productpage-v1-68d947fbdf-rvpgh.book~book.svc.cluster.local",
        "peer.address": "172.17.0.6",
        request_size: "0",
        response_flags: "-",
        response_size: "178",
        upstream_cluster: "outbound|9080||details.book.svc.cluster.local",
        "upstream_cluster.name":
          "outbound|9080||details.book.svc.cluster.local",
        user_agent:
          "Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/96.0.4664.93 Safari/537.36 Edg/96.0.1054.53",
      },
    },
    {
      traceId: "8135a70db659bdbfa91cb70743fa5896",
      parentId: "2a0233d77b02be8f",
      id: "fbe2e7bc443ed9d8",
      kind: "CLIENT",
      name: "reviews.book.svc.cluster.local:9080/*",
      timestamp: 1641106513011342,
      duration: 10204,
      localEndpoint: {
        serviceName: "productpage.book",
        ipv4: "172.17.0.6",
      },
      annotations: [
        {
          timestamp: 1641106513021577,
          value: "cr",
        },
      ],
      tags: {
        component: "proxy",
        downstream_cluster: "-",
        "guid:x-request-id": "41efb077-b24a-9f6d-a8be-46298cb6c129",
        "http.method": "GET",
        "http.protocol": "HTTP/1.1",
        "http.status_code": "200",
        "http.url": "http://reviews:9080/reviews/0",
        "istio.canonical_revision": "v1",
        "istio.canonical_service": "productpage",
        "istio.mesh_id": "cluster.local",
        "istio.namespace": "book",
        node_id:
          "sidecar~172.17.0.6~productpage-v1-68d947fbdf-rvpgh.book~book.svc.cluster.local",
        "peer.address": "172.17.0.6",
        request_size: "0",
        response_flags: "-",
        response_size: "375",
        upstream_cluster: "outbound|9080||reviews.book.svc.cluster.local",
        "upstream_cluster.name":
          "outbound|9080||reviews.book.svc.cluster.local",
        user_agent:
          "Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/96.0.4664.93 Safari/537.36 Edg/96.0.1054.53",
      },
    },
    {
      traceId: "8135a70db659bdbfa91cb70743fa5896",
      parentId: "fbe2e7bc443ed9d8",
      id: "fba5d0e909a4cf1f",
      kind: "SERVER",
      name: "reviews.book.svc.cluster.local:9080/*",
      timestamp: 1641106513011513,
      duration: 9711,
      localEndpoint: {
        serviceName: "reviews.book",
        ipv4: "172.17.0.11",
      },
      annotations: [
        {
          timestamp: 1641106513021302,
          value: "ss",
        },
      ],
      tags: {
        component: "proxy",
        downstream_cluster: "-",
        "guid:x-request-id": "41efb077-b24a-9f6d-a8be-46298cb6c129",
        "http.method": "GET",
        "http.protocol": "HTTP/1.1",
        "http.status_code": "200",
        "http.url": "http://reviews:9080/reviews/0",
        "istio.canonical_revision": "v3",
        "istio.canonical_service": "reviews",
        "istio.mesh_id": "cluster.local",
        "istio.namespace": "book",
        node_id:
          "sidecar~172.17.0.11~reviews-v3-69d9c8447-pvtkc.book~book.svc.cluster.local",
        "peer.address": "172.17.0.6",
        request_size: "0",
        response_flags: "-",
        response_size: "375",
        upstream_cluster: "inbound|9080||",
        "upstream_cluster.name": "inbound|9080||",
        user_agent:
          "Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/96.0.4664.93 Safari/537.36 Edg/96.0.1054.53",
      },
    },
    {
      traceId: "8135a70db659bdbfa91cb70743fa5896",
      parentId: "a91cb70743fa5896",
      id: "2a0233d77b02be8f",
      kind: "SERVER",
      name: "productpage.book.svc.cluster.local:9080/productpage",
      timestamp: 1641106513003326,
      duration: 19505,
      localEndpoint: {
        serviceName: "productpage.book",
        ipv4: "172.17.0.6",
      },
      annotations: [
        {
          timestamp: 1641106513022952,
          value: "ss",
        },
      ],
      tags: {
        component: "proxy",
        downstream_cluster: "-",
        "guid:x-request-id": "41efb077-b24a-9f6d-a8be-46298cb6c129",
        "http.method": "GET",
        "http.protocol": "HTTP/1.1",
        "http.status_code": "200",
        "http.url": "http://192.168.39.24:31629/productpage",
        "istio.canonical_revision": "v1",
        "istio.canonical_service": "productpage",
        "istio.mesh_id": "cluster.local",
        "istio.namespace": "book",
        node_id:
          "sidecar~172.17.0.6~productpage-v1-68d947fbdf-rvpgh.book~book.svc.cluster.local",
        "peer.address": "172.17.0.10",
        request_size: "0",
        response_flags: "-",
        response_size: "5179",
        upstream_cluster: "inbound|9080||",
        "upstream_cluster.name": "inbound|9080||",
        user_agent:
          "Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/96.0.4664.93 Safari/537.36 Edg/96.0.1054.53",
      },
    },
    {
      traceId: "8135a70db659bdbfa91cb70743fa5896",
      id: "a91cb70743fa5896",
      kind: "CLIENT",
      name: "productpage.book.svc.cluster.local:9080/productpage",
      timestamp: 1641106513003042,
      duration: 20175,
      localEndpoint: {
        serviceName: "istio-ingressgateway.istio-system",
        ipv4: "172.17.0.10",
      },
      annotations: [
        {
          timestamp: 1641106513023289,
          value: "cr",
        },
      ],
      tags: {
        component: "proxy",
        downstream_cluster: "-",
        "guid:x-request-id": "41efb077-b24a-9f6d-a8be-46298cb6c129",
        "http.method": "GET",
        "http.protocol": "HTTP/1.1",
        "http.status_code": "200",
        "http.url": "http://192.168.39.24:31629/productpage",
        "istio.canonical_revision": "latest",
        "istio.canonical_service": "istio-ingressgateway",
        "istio.mesh_id": "cluster.local",
        "istio.namespace": "istio-system",
        node_id:
          "router~172.17.0.10~istio-ingressgateway-8577c57fb6-htvml.istio-system~istio-system.svc.cluster.local",
        "peer.address": "172.17.0.1",
        request_size: "0",
        response_flags: "-",
        response_size: "5179",
        upstream_cluster: "outbound|9080||productpage.book.svc.cluster.local",
        "upstream_cluster.name":
          "outbound|9080||productpage.book.svc.cluster.local",
        user_agent:
          "Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/96.0.4664.93 Safari/537.36 Edg/96.0.1054.53",
      },
    },
    {
      traceId: "8135a70db659bdbfa91cb70743fa5896",
      parentId: "6334798847ceef19",
      id: "5b43334e4134aaab",
      kind: "SERVER",
      name: "ratings.book.svc.cluster.local:9080/*",
      timestamp: 1641106513018395,
      duration: 818,
      localEndpoint: {
        serviceName: "ratings.book",
        ipv4: "172.17.0.13",
      },
      annotations: [
        {
          timestamp: 1641106513019307,
          value: "ss",
        },
      ],
      tags: {
        component: "proxy",
        downstream_cluster: "-",
        "guid:x-request-id": "41efb077-b24a-9f6d-a8be-46298cb6c129",
        "http.method": "GET",
        "http.protocol": "HTTP/1.1",
        "http.status_code": "200",
        "http.url": "http://ratings:9080/ratings/0",
        "istio.canonical_revision": "v1",
        "istio.canonical_service": "ratings",
        "istio.mesh_id": "cluster.local",
        "istio.namespace": "book",
        node_id:
          "sidecar~172.17.0.13~ratings-v1-5fcf4d8fcf-cbrlk.book~book.svc.cluster.local",
        "peer.address": "172.17.0.11",
        request_size: "0",
        response_flags: "-",
        response_size: "48",
        upstream_cluster: "inbound|9080||",
        "upstream_cluster.name": "inbound|9080||",
        user_agent:
          "Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/96.0.4664.93 Safari/537.36 Edg/96.0.1054.53",
      },
    },
    {
      traceId: "8135a70db659bdbfa91cb70743fa5896",
      parentId: "fba5d0e909a4cf1f",
      id: "6334798847ceef19",
      kind: "CLIENT",
      name: "ratings.book.svc.cluster.local:9080/*",
      timestamp: 1641106513017991,
      duration: 1514,
      localEndpoint: {
        serviceName: "reviews.book",
        ipv4: "172.17.0.11",
      },
      annotations: [
        {
          timestamp: 1641106513019595,
          value: "cr",
        },
      ],
      tags: {
        component: "proxy",
        downstream_cluster: "-",
        "guid:x-request-id": "41efb077-b24a-9f6d-a8be-46298cb6c129",
        "http.method": "GET",
        "http.protocol": "HTTP/1.1",
        "http.status_code": "200",
        "http.url": "http://ratings:9080/ratings/0",
        "istio.canonical_revision": "v3",
        "istio.canonical_service": "reviews",
        "istio.mesh_id": "cluster.local",
        "istio.namespace": "book",
        node_id:
          "sidecar~172.17.0.11~reviews-v3-69d9c8447-pvtkc.book~book.svc.cluster.local",
        "peer.address": "172.17.0.11",
        request_size: "0",
        response_flags: "-",
        response_size: "48",
        upstream_cluster: "outbound|9080||ratings.book.svc.cluster.local",
        "upstream_cluster.name":
          "outbound|9080||ratings.book.svc.cluster.local",
        user_agent:
          "Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/96.0.4664.93 Safari/537.36 Edg/96.0.1054.53",
      },
    },
  ],
  [
    {
      traceId: "8b754ab382ec64baf8c4e989ccdcd846",
      parentId: "448927d7b4bcf998",
      id: "63244ed533b33b9e",
      kind: "CLIENT",
      name: "details.book.svc.cluster.local:9080/*",
      timestamp: 1641106512865761,
      duration: 1509,
      localEndpoint: {
        serviceName: "productpage.book",
        ipv4: "172.17.0.6",
      },
      annotations: [
        {
          timestamp: 1641106512867306,
          value: "cr",
        },
      ],
      tags: {
        component: "proxy",
        downstream_cluster: "-",
        "guid:x-request-id": "929b986d-8d0a-9767-85ae-89300a1d7281",
        "http.method": "GET",
        "http.protocol": "HTTP/1.1",
        "http.status_code": "200",
        "http.url": "http://details:9080/details/0",
        "istio.canonical_revision": "v1",
        "istio.canonical_service": "productpage",
        "istio.mesh_id": "cluster.local",
        "istio.namespace": "book",
        node_id:
          "sidecar~172.17.0.6~productpage-v1-68d947fbdf-rvpgh.book~book.svc.cluster.local",
        "peer.address": "172.17.0.6",
        request_size: "0",
        response_flags: "-",
        response_size: "178",
        upstream_cluster: "outbound|9080||details.book.svc.cluster.local",
        "upstream_cluster.name":
          "outbound|9080||details.book.svc.cluster.local",
        user_agent:
          "Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/96.0.4664.93 Safari/537.36 Edg/96.0.1054.53",
      },
    },
    {
      traceId: "8b754ab382ec64baf8c4e989ccdcd846",
      parentId: "63244ed533b33b9e",
      id: "4c6d2a4413d92909",
      kind: "SERVER",
      name: "details.book.svc.cluster.local:9080/*",
      timestamp: 1641106512865953,
      duration: 1038,
      localEndpoint: {
        serviceName: "details.book",
        ipv4: "172.17.0.4",
      },
      annotations: [
        {
          timestamp: 1641106512867075,
          value: "ss",
        },
      ],
      tags: {
        component: "proxy",
        downstream_cluster: "-",
        "guid:x-request-id": "929b986d-8d0a-9767-85ae-89300a1d7281",
        "http.method": "GET",
        "http.protocol": "HTTP/1.1",
        "http.status_code": "200",
        "http.url": "http://details:9080/details/0",
        "istio.canonical_revision": "v1",
        "istio.canonical_service": "details",
        "istio.mesh_id": "cluster.local",
        "istio.namespace": "book",
        node_id:
          "sidecar~172.17.0.4~details-v1-7dcb9897f-pnxxc.book~book.svc.cluster.local",
        "peer.address": "172.17.0.6",
        request_size: "0",
        response_flags: "-",
        response_size: "178",
        upstream_cluster: "inbound|9080||",
        "upstream_cluster.name": "inbound|9080||",
        user_agent:
          "Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/96.0.4664.93 Safari/537.36 Edg/96.0.1054.53",
      },
    },
    {
      traceId: "8b754ab382ec64baf8c4e989ccdcd846",
      parentId: "448927d7b4bcf998",
      id: "8e624d52d6f9c318",
      kind: "CLIENT",
      name: "reviews.book.svc.cluster.local:9080/*",
      timestamp: 1641106512868979,
      duration: 5142,
      localEndpoint: {
        serviceName: "productpage.book",
        ipv4: "172.17.0.6",
      },
      annotations: [
        {
          timestamp: 1641106512874147,
          value: "cr",
        },
      ],
      tags: {
        component: "proxy",
        downstream_cluster: "-",
        "guid:x-request-id": "929b986d-8d0a-9767-85ae-89300a1d7281",
        "http.method": "GET",
        "http.protocol": "HTTP/1.1",
        "http.status_code": "200",
        "http.url": "http://reviews:9080/reviews/0",
        "istio.canonical_revision": "v1",
        "istio.canonical_service": "productpage",
        "istio.mesh_id": "cluster.local",
        "istio.namespace": "book",
        node_id:
          "sidecar~172.17.0.6~productpage-v1-68d947fbdf-rvpgh.book~book.svc.cluster.local",
        "peer.address": "172.17.0.6",
        request_size: "0",
        response_flags: "-",
        response_size: "295",
        upstream_cluster: "outbound|9080||reviews.book.svc.cluster.local",
        "upstream_cluster.name":
          "outbound|9080||reviews.book.svc.cluster.local",
        user_agent:
          "Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/96.0.4664.93 Safari/537.36 Edg/96.0.1054.53",
      },
    },
    {
      traceId: "8b754ab382ec64baf8c4e989ccdcd846",
      id: "f8c4e989ccdcd846",
      kind: "CLIENT",
      name: "productpage.book.svc.cluster.local:9080/productpage",
      timestamp: 1641106512862786,
      duration: 13769,
      localEndpoint: {
        serviceName: "istio-ingressgateway.istio-system",
        ipv4: "172.17.0.10",
      },
      annotations: [
        {
          timestamp: 1641106512876645,
          value: "cr",
        },
      ],
      tags: {
        component: "proxy",
        downstream_cluster: "-",
        "guid:x-request-id": "929b986d-8d0a-9767-85ae-89300a1d7281",
        "http.method": "GET",
        "http.protocol": "HTTP/1.1",
        "http.status_code": "200",
        "http.url": "http://192.168.39.24:31629/productpage",
        "istio.canonical_revision": "latest",
        "istio.canonical_service": "istio-ingressgateway",
        "istio.mesh_id": "cluster.local",
        "istio.namespace": "istio-system",
        node_id:
          "router~172.17.0.10~istio-ingressgateway-8577c57fb6-htvml.istio-system~istio-system.svc.cluster.local",
        "peer.address": "172.17.0.1",
        request_size: "0",
        response_flags: "-",
        response_size: "4183",
        upstream_cluster: "outbound|9080||productpage.book.svc.cluster.local",
        "upstream_cluster.name":
          "outbound|9080||productpage.book.svc.cluster.local",
        user_agent:
          "Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/96.0.4664.93 Safari/537.36 Edg/96.0.1054.53",
      },
    },
    {
      traceId: "8b754ab382ec64baf8c4e989ccdcd846",
      parentId: "f8c4e989ccdcd846",
      id: "448927d7b4bcf998",
      kind: "SERVER",
      name: "productpage.book.svc.cluster.local:9080/productpage",
      timestamp: 1641106512863083,
      duration: 13195,
      localEndpoint: {
        serviceName: "productpage.book",
        ipv4: "172.17.0.6",
      },
      annotations: [
        {
          timestamp: 1641106512876393,
          value: "ss",
        },
      ],
      tags: {
        component: "proxy",
        downstream_cluster: "-",
        "guid:x-request-id": "929b986d-8d0a-9767-85ae-89300a1d7281",
        "http.method": "GET",
        "http.protocol": "HTTP/1.1",
        "http.status_code": "200",
        "http.url": "http://192.168.39.24:31629/productpage",
        "istio.canonical_revision": "v1",
        "istio.canonical_service": "productpage",
        "istio.mesh_id": "cluster.local",
        "istio.namespace": "book",
        node_id:
          "sidecar~172.17.0.6~productpage-v1-68d947fbdf-rvpgh.book~book.svc.cluster.local",
        "peer.address": "172.17.0.10",
        request_size: "0",
        response_flags: "-",
        response_size: "4183",
        upstream_cluster: "inbound|9080||",
        "upstream_cluster.name": "inbound|9080||",
        user_agent:
          "Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/96.0.4664.93 Safari/537.36 Edg/96.0.1054.53",
      },
    },
    {
      traceId: "8b754ab382ec64baf8c4e989ccdcd846",
      parentId: "8e624d52d6f9c318",
      id: "690d268a2478b0d6",
      kind: "SERVER",
      name: "reviews.book.svc.cluster.local:9080/*",
      timestamp: 1641106512869108,
      duration: 4637,
      localEndpoint: {
        serviceName: "reviews.book",
        ipv4: "172.17.0.9",
      },
      annotations: [
        {
          timestamp: 1641106512873820,
          value: "ss",
        },
      ],
      tags: {
        component: "proxy",
        downstream_cluster: "-",
        "guid:x-request-id": "929b986d-8d0a-9767-85ae-89300a1d7281",
        "http.method": "GET",
        "http.protocol": "HTTP/1.1",
        "http.status_code": "200",
        "http.url": "http://reviews:9080/reviews/0",
        "istio.canonical_revision": "v1",
        "istio.canonical_service": "reviews",
        "istio.mesh_id": "cluster.local",
        "istio.namespace": "book",
        node_id:
          "sidecar~172.17.0.9~reviews-v1-7ffd74f4c5-9zn98.book~book.svc.cluster.local",
        "peer.address": "172.17.0.6",
        request_size: "0",
        response_flags: "-",
        response_size: "295",
        upstream_cluster: "inbound|9080||",
        "upstream_cluster.name": "inbound|9080||",
        user_agent:
          "Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/96.0.4664.93 Safari/537.36 Edg/96.0.1054.53",
      },
    },
  ],
  [
    {
      traceId: "846f887c08bb43b1c0f07ed1f858669c",
      parentId: "ed4743e109f399ad",
      id: "ad3db9699156446a",
      kind: "CLIENT",
      name: "details.book.svc.cluster.local:9080/*",
      timestamp: 1641106512751123,
      duration: 1256,
      localEndpoint: {
        serviceName: "productpage.book",
        ipv4: "172.17.0.6",
      },
      annotations: [
        {
          timestamp: 1641106512752415,
          value: "cr",
        },
      ],
      tags: {
        component: "proxy",
        downstream_cluster: "-",
        "guid:x-request-id": "fa73ec66-e8ba-961b-bffd-c91353dc5eb4",
        "http.method": "GET",
        "http.protocol": "HTTP/1.1",
        "http.status_code": "200",
        "http.url": "http://details:9080/details/0",
        "istio.canonical_revision": "v1",
        "istio.canonical_service": "productpage",
        "istio.mesh_id": "cluster.local",
        "istio.namespace": "book",
        node_id:
          "sidecar~172.17.0.6~productpage-v1-68d947fbdf-rvpgh.book~book.svc.cluster.local",
        "peer.address": "172.17.0.6",
        request_size: "0",
        response_flags: "-",
        response_size: "178",
        upstream_cluster: "outbound|9080||details.book.svc.cluster.local",
        "upstream_cluster.name":
          "outbound|9080||details.book.svc.cluster.local",
        user_agent:
          "Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/96.0.4664.93 Safari/537.36 Edg/96.0.1054.53",
      },
    },
    {
      traceId: "846f887c08bb43b1c0f07ed1f858669c",
      parentId: "ad3db9699156446a",
      id: "99360a99b986a133",
      kind: "SERVER",
      name: "details.book.svc.cluster.local:9080/*",
      timestamp: 1641106512751340,
      duration: 759,
      localEndpoint: {
        serviceName: "details.book",
        ipv4: "172.17.0.4",
      },
      annotations: [
        {
          timestamp: 1641106512752184,
          value: "ss",
        },
      ],
      tags: {
        component: "proxy",
        downstream_cluster: "-",
        "guid:x-request-id": "fa73ec66-e8ba-961b-bffd-c91353dc5eb4",
        "http.method": "GET",
        "http.protocol": "HTTP/1.1",
        "http.status_code": "200",
        "http.url": "http://details:9080/details/0",
        "istio.canonical_revision": "v1",
        "istio.canonical_service": "details",
        "istio.mesh_id": "cluster.local",
        "istio.namespace": "book",
        node_id:
          "sidecar~172.17.0.4~details-v1-7dcb9897f-pnxxc.book~book.svc.cluster.local",
        "peer.address": "172.17.0.6",
        request_size: "0",
        response_flags: "-",
        response_size: "178",
        upstream_cluster: "inbound|9080||",
        "upstream_cluster.name": "inbound|9080||",
        user_agent:
          "Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/96.0.4664.93 Safari/537.36 Edg/96.0.1054.53",
      },
    },
    {
      traceId: "846f887c08bb43b1c0f07ed1f858669c",
      parentId: "ed4743e109f399ad",
      id: "b19d3066693afa5c",
      kind: "CLIENT",
      name: "reviews.book.svc.cluster.local:9080/*",
      timestamp: 1641106512754034,
      duration: 8465,
      localEndpoint: {
        serviceName: "productpage.book",
        ipv4: "172.17.0.6",
      },
      annotations: [
        {
          timestamp: 1641106512762524,
          value: "cr",
        },
      ],
      tags: {
        component: "proxy",
        downstream_cluster: "-",
        "guid:x-request-id": "fa73ec66-e8ba-961b-bffd-c91353dc5eb4",
        "http.method": "GET",
        "http.protocol": "HTTP/1.1",
        "http.status_code": "200",
        "http.url": "http://reviews:9080/reviews/0",
        "istio.canonical_revision": "v1",
        "istio.canonical_service": "productpage",
        "istio.mesh_id": "cluster.local",
        "istio.namespace": "book",
        node_id:
          "sidecar~172.17.0.6~productpage-v1-68d947fbdf-rvpgh.book~book.svc.cluster.local",
        "peer.address": "172.17.0.6",
        request_size: "0",
        response_flags: "-",
        response_size: "379",
        upstream_cluster: "outbound|9080||reviews.book.svc.cluster.local",
        "upstream_cluster.name":
          "outbound|9080||reviews.book.svc.cluster.local",
        user_agent:
          "Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/96.0.4664.93 Safari/537.36 Edg/96.0.1054.53",
      },
    },
    {
      traceId: "846f887c08bb43b1c0f07ed1f858669c",
      parentId: "b19d3066693afa5c",
      id: "41926488cfc01e64",
      kind: "SERVER",
      name: "reviews.book.svc.cluster.local:9080/*",
      timestamp: 1641106512754180,
      duration: 7882,
      localEndpoint: {
        serviceName: "reviews.book",
        ipv4: "172.17.0.3",
      },
      annotations: [
        {
          timestamp: 1641106512762145,
          value: "ss",
        },
      ],
      tags: {
        component: "proxy",
        downstream_cluster: "-",
        "guid:x-request-id": "fa73ec66-e8ba-961b-bffd-c91353dc5eb4",
        "http.method": "GET",
        "http.protocol": "HTTP/1.1",
        "http.status_code": "200",
        "http.url": "http://reviews:9080/reviews/0",
        "istio.canonical_revision": "v2",
        "istio.canonical_service": "reviews",
        "istio.mesh_id": "cluster.local",
        "istio.namespace": "book",
        node_id:
          "sidecar~172.17.0.3~reviews-v2-d5dccbf9-t6xbq.book~book.svc.cluster.local",
        "peer.address": "172.17.0.6",
        request_size: "0",
        response_flags: "-",
        response_size: "379",
        upstream_cluster: "inbound|9080||",
        "upstream_cluster.name": "inbound|9080||",
        user_agent:
          "Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/96.0.4664.93 Safari/537.36 Edg/96.0.1054.53",
      },
    },
    {
      traceId: "846f887c08bb43b1c0f07ed1f858669c",
      parentId: "c0f07ed1f858669c",
      id: "ed4743e109f399ad",
      kind: "SERVER",
      name: "productpage.book.svc.cluster.local:9080/productpage",
      timestamp: 1641106512748543,
      duration: 15302,
      localEndpoint: {
        serviceName: "productpage.book",
        ipv4: "172.17.0.6",
      },
      annotations: [
        {
          timestamp: 1641106512763924,
          value: "ss",
        },
      ],
      tags: {
        component: "proxy",
        downstream_cluster: "-",
        "guid:x-request-id": "fa73ec66-e8ba-961b-bffd-c91353dc5eb4",
        "http.method": "GET",
        "http.protocol": "HTTP/1.1",
        "http.status_code": "200",
        "http.url": "http://192.168.39.24:31629/productpage",
        "istio.canonical_revision": "v1",
        "istio.canonical_service": "productpage",
        "istio.mesh_id": "cluster.local",
        "istio.namespace": "book",
        node_id:
          "sidecar~172.17.0.6~productpage-v1-68d947fbdf-rvpgh.book~book.svc.cluster.local",
        "peer.address": "172.17.0.10",
        request_size: "0",
        response_flags: "-",
        response_size: "5183",
        upstream_cluster: "inbound|9080||",
        "upstream_cluster.name": "inbound|9080||",
        user_agent:
          "Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/96.0.4664.93 Safari/537.36 Edg/96.0.1054.53",
      },
    },
    {
      traceId: "846f887c08bb43b1c0f07ed1f858669c",
      id: "c0f07ed1f858669c",
      kind: "CLIENT",
      name: "productpage.book.svc.cluster.local:9080/productpage",
      timestamp: 1641106512748264,
      duration: 15869,
      localEndpoint: {
        serviceName: "istio-ingressgateway.istio-system",
        ipv4: "172.17.0.10",
      },
      annotations: [
        {
          timestamp: 1641106512764227,
          value: "cr",
        },
      ],
      tags: {
        component: "proxy",
        downstream_cluster: "-",
        "guid:x-request-id": "fa73ec66-e8ba-961b-bffd-c91353dc5eb4",
        "http.method": "GET",
        "http.protocol": "HTTP/1.1",
        "http.status_code": "200",
        "http.url": "http://192.168.39.24:31629/productpage",
        "istio.canonical_revision": "latest",
        "istio.canonical_service": "istio-ingressgateway",
        "istio.mesh_id": "cluster.local",
        "istio.namespace": "istio-system",
        node_id:
          "router~172.17.0.10~istio-ingressgateway-8577c57fb6-htvml.istio-system~istio-system.svc.cluster.local",
        "peer.address": "172.17.0.1",
        request_size: "0",
        response_flags: "-",
        response_size: "5183",
        upstream_cluster: "outbound|9080||productpage.book.svc.cluster.local",
        "upstream_cluster.name":
          "outbound|9080||productpage.book.svc.cluster.local",
        user_agent:
          "Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/96.0.4664.93 Safari/537.36 Edg/96.0.1054.53",
      },
    },
    {
      traceId: "846f887c08bb43b1c0f07ed1f858669c",
      parentId: "b84f361392472e86",
      id: "bb768418d8d3a28c",
      kind: "SERVER",
      name: "ratings.book.svc.cluster.local:9080/*",
      timestamp: 1641106512759571,
      duration: 590,
      localEndpoint: {
        serviceName: "ratings.book",
        ipv4: "172.17.0.13",
      },
      annotations: [
        {
          timestamp: 1641106512760244,
          value: "ss",
        },
      ],
      tags: {
        component: "proxy",
        downstream_cluster: "-",
        "guid:x-request-id": "fa73ec66-e8ba-961b-bffd-c91353dc5eb4",
        "http.method": "GET",
        "http.protocol": "HTTP/1.1",
        "http.status_code": "200",
        "http.url": "http://ratings:9080/ratings/0",
        "istio.canonical_revision": "v1",
        "istio.canonical_service": "ratings",
        "istio.mesh_id": "cluster.local",
        "istio.namespace": "book",
        node_id:
          "sidecar~172.17.0.13~ratings-v1-5fcf4d8fcf-cbrlk.book~book.svc.cluster.local",
        "peer.address": "172.17.0.3",
        request_size: "0",
        response_flags: "-",
        response_size: "48",
        upstream_cluster: "inbound|9080||",
        "upstream_cluster.name": "inbound|9080||",
        user_agent:
          "Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/96.0.4664.93 Safari/537.36 Edg/96.0.1054.53",
      },
    },
    {
      traceId: "846f887c08bb43b1c0f07ed1f858669c",
      parentId: "41926488cfc01e64",
      id: "b84f361392472e86",
      kind: "CLIENT",
      name: "ratings.book.svc.cluster.local:9080/*",
      timestamp: 1641106512759269,
      duration: 1152,
      localEndpoint: {
        serviceName: "reviews.book",
        ipv4: "172.17.0.3",
      },
      annotations: [
        {
          timestamp: 1641106512760493,
          value: "cr",
        },
      ],
      tags: {
        component: "proxy",
        downstream_cluster: "-",
        "guid:x-request-id": "fa73ec66-e8ba-961b-bffd-c91353dc5eb4",
        "http.method": "GET",
        "http.protocol": "HTTP/1.1",
        "http.status_code": "200",
        "http.url": "http://ratings:9080/ratings/0",
        "istio.canonical_revision": "v2",
        "istio.canonical_service": "reviews",
        "istio.mesh_id": "cluster.local",
        "istio.namespace": "book",
        node_id:
          "sidecar~172.17.0.3~reviews-v2-d5dccbf9-t6xbq.book~book.svc.cluster.local",
        "peer.address": "172.17.0.3",
        request_size: "0",
        response_flags: "-",
        response_size: "48",
        upstream_cluster: "outbound|9080||ratings.book.svc.cluster.local",
        "upstream_cluster.name":
          "outbound|9080||ratings.book.svc.cluster.local",
        user_agent:
          "Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/96.0.4664.93 Safari/537.36 Edg/96.0.1054.53",
      },
    },
  ],
  [
    {
      traceId: "3ce1e8ceeb327649791caf9d8ad35eb9",
      parentId: "6ebe72bfccfe89d9",
      id: "52f887554fb3f0b7",
      kind: "CLIENT",
      name: "details.book.svc.cluster.local:9080/*",
      timestamp: 1641106512642198,
      duration: 7882,
      localEndpoint: {
        serviceName: "productpage.book",
        ipv4: "172.17.0.6",
      },
      annotations: [
        {
          timestamp: 1641106512650154,
          value: "cr",
        },
      ],
      tags: {
        component: "proxy",
        downstream_cluster: "-",
        "guid:x-request-id": "423bf00e-4ad3-9dd2-8746-6ce5ef6be89b",
        "http.method": "GET",
        "http.protocol": "HTTP/1.1",
        "http.status_code": "200",
        "http.url": "http://details:9080/details/0",
        "istio.canonical_revision": "v1",
        "istio.canonical_service": "productpage",
        "istio.mesh_id": "cluster.local",
        "istio.namespace": "book",
        node_id:
          "sidecar~172.17.0.6~productpage-v1-68d947fbdf-rvpgh.book~book.svc.cluster.local",
        "peer.address": "172.17.0.6",
        request_size: "0",
        response_flags: "-",
        response_size: "178",
        upstream_cluster: "outbound|9080||details.book.svc.cluster.local",
        "upstream_cluster.name":
          "outbound|9080||details.book.svc.cluster.local",
        user_agent:
          "Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/96.0.4664.93 Safari/537.36 Edg/96.0.1054.53",
      },
    },
    {
      traceId: "3ce1e8ceeb327649791caf9d8ad35eb9",
      parentId: "52f887554fb3f0b7",
      id: "80a7b1738c7c4960",
      kind: "SERVER",
      name: "details.book.svc.cluster.local:9080/*",
      timestamp: 1641106512642748,
      duration: 990,
      localEndpoint: {
        serviceName: "details.book",
        ipv4: "172.17.0.4",
      },
      annotations: [
        {
          timestamp: 1641106512643810,
          value: "ss",
        },
      ],
      tags: {
        component: "proxy",
        downstream_cluster: "-",
        "guid:x-request-id": "423bf00e-4ad3-9dd2-8746-6ce5ef6be89b",
        "http.method": "GET",
        "http.protocol": "HTTP/1.1",
        "http.status_code": "200",
        "http.url": "http://details:9080/details/0",
        "istio.canonical_revision": "v1",
        "istio.canonical_service": "details",
        "istio.mesh_id": "cluster.local",
        "istio.namespace": "book",
        node_id:
          "sidecar~172.17.0.4~details-v1-7dcb9897f-pnxxc.book~book.svc.cluster.local",
        "peer.address": "172.17.0.6",
        request_size: "0",
        response_flags: "-",
        response_size: "178",
        upstream_cluster: "inbound|9080||",
        "upstream_cluster.name": "inbound|9080||",
        user_agent:
          "Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/96.0.4664.93 Safari/537.36 Edg/96.0.1054.53",
      },
    },
    {
      traceId: "3ce1e8ceeb327649791caf9d8ad35eb9",
      parentId: "6ebe72bfccfe89d9",
      id: "ab0c49bc567175bf",
      kind: "CLIENT",
      name: "reviews.book.svc.cluster.local:9080/*",
      timestamp: 1641106512652264,
      duration: 5172,
      localEndpoint: {
        serviceName: "productpage.book",
        ipv4: "172.17.0.6",
      },
      annotations: [
        {
          timestamp: 1641106512657477,
          value: "cr",
        },
      ],
      tags: {
        component: "proxy",
        downstream_cluster: "-",
        "guid:x-request-id": "423bf00e-4ad3-9dd2-8746-6ce5ef6be89b",
        "http.method": "GET",
        "http.protocol": "HTTP/1.1",
        "http.status_code": "200",
        "http.url": "http://reviews:9080/reviews/0",
        "istio.canonical_revision": "v1",
        "istio.canonical_service": "productpage",
        "istio.mesh_id": "cluster.local",
        "istio.namespace": "book",
        node_id:
          "sidecar~172.17.0.6~productpage-v1-68d947fbdf-rvpgh.book~book.svc.cluster.local",
        "peer.address": "172.17.0.6",
        request_size: "0",
        response_flags: "-",
        response_size: "295",
        upstream_cluster: "outbound|9080||reviews.book.svc.cluster.local",
        "upstream_cluster.name":
          "outbound|9080||reviews.book.svc.cluster.local",
        user_agent:
          "Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/96.0.4664.93 Safari/537.36 Edg/96.0.1054.53",
      },
    },
    {
      traceId: "3ce1e8ceeb327649791caf9d8ad35eb9",
      parentId: "ab0c49bc567175bf",
      id: "687d0fc54ae5a43c",
      kind: "SERVER",
      name: "reviews.book.svc.cluster.local:9080/*",
      timestamp: 1641106512652715,
      duration: 4286,
      localEndpoint: {
        serviceName: "reviews.book",
        ipv4: "172.17.0.9",
      },
      annotations: [
        {
          timestamp: 1641106512657078,
          value: "ss",
        },
      ],
      tags: {
        component: "proxy",
        downstream_cluster: "-",
        "guid:x-request-id": "423bf00e-4ad3-9dd2-8746-6ce5ef6be89b",
        "http.method": "GET",
        "http.protocol": "HTTP/1.1",
        "http.status_code": "200",
        "http.url": "http://reviews:9080/reviews/0",
        "istio.canonical_revision": "v1",
        "istio.canonical_service": "reviews",
        "istio.mesh_id": "cluster.local",
        "istio.namespace": "book",
        node_id:
          "sidecar~172.17.0.9~reviews-v1-7ffd74f4c5-9zn98.book~book.svc.cluster.local",
        "peer.address": "172.17.0.6",
        request_size: "0",
        response_flags: "-",
        response_size: "295",
        upstream_cluster: "inbound|9080||",
        "upstream_cluster.name": "inbound|9080||",
        user_agent:
          "Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/96.0.4664.93 Safari/537.36 Edg/96.0.1054.53",
      },
    },
    {
      traceId: "3ce1e8ceeb327649791caf9d8ad35eb9",
      parentId: "791caf9d8ad35eb9",
      id: "6ebe72bfccfe89d9",
      kind: "SERVER",
      name: "productpage.book.svc.cluster.local:9080/productpage",
      timestamp: 1641106512638844,
      duration: 20405,
      localEndpoint: {
        serviceName: "productpage.book",
        ipv4: "172.17.0.6",
      },
      annotations: [
        {
          timestamp: 1641106512659376,
          value: "ss",
        },
      ],
      tags: {
        component: "proxy",
        downstream_cluster: "-",
        "guid:x-request-id": "423bf00e-4ad3-9dd2-8746-6ce5ef6be89b",
        "http.method": "GET",
        "http.protocol": "HTTP/1.1",
        "http.status_code": "200",
        "http.url": "http://192.168.39.24:31629/productpage",
        "istio.canonical_revision": "v1",
        "istio.canonical_service": "productpage",
        "istio.mesh_id": "cluster.local",
        "istio.namespace": "book",
        node_id:
          "sidecar~172.17.0.6~productpage-v1-68d947fbdf-rvpgh.book~book.svc.cluster.local",
        "peer.address": "172.17.0.10",
        request_size: "0",
        response_flags: "-",
        response_size: "4183",
        upstream_cluster: "inbound|9080||",
        "upstream_cluster.name": "inbound|9080||",
        user_agent:
          "Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/96.0.4664.93 Safari/537.36 Edg/96.0.1054.53",
      },
    },
    {
      traceId: "3ce1e8ceeb327649791caf9d8ad35eb9",
      id: "791caf9d8ad35eb9",
      kind: "CLIENT",
      name: "productpage.book.svc.cluster.local:9080/productpage",
      timestamp: 1641106512638568,
      duration: 21712,
      localEndpoint: {
        serviceName: "istio-ingressgateway.istio-system",
        ipv4: "172.17.0.10",
      },
      annotations: [
        {
          timestamp: 1641106512660359,
          value: "cr",
        },
      ],
      tags: {
        component: "proxy",
        downstream_cluster: "-",
        "guid:x-request-id": "423bf00e-4ad3-9dd2-8746-6ce5ef6be89b",
        "http.method": "GET",
        "http.protocol": "HTTP/1.1",
        "http.status_code": "200",
        "http.url": "http://192.168.39.24:31629/productpage",
        "istio.canonical_revision": "latest",
        "istio.canonical_service": "istio-ingressgateway",
        "istio.mesh_id": "cluster.local",
        "istio.namespace": "istio-system",
        node_id:
          "router~172.17.0.10~istio-ingressgateway-8577c57fb6-htvml.istio-system~istio-system.svc.cluster.local",
        "peer.address": "172.17.0.1",
        request_size: "0",
        response_flags: "-",
        response_size: "4183",
        upstream_cluster: "outbound|9080||productpage.book.svc.cluster.local",
        "upstream_cluster.name":
          "outbound|9080||productpage.book.svc.cluster.local",
        user_agent:
          "Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/96.0.4664.93 Safari/537.36 Edg/96.0.1054.53",
      },
    },
  ],
  [
    {
      traceId: "b65731faea46a011d9afaadeca781517",
      parentId: "2a7a6991e3e99f03",
      id: "401d624d428d819c",
      kind: "SERVER",
      name: "ratings.book.svc.cluster.local:9080/*",
      timestamp: 1641106512511044,
      duration: 610,
      localEndpoint: {
        serviceName: "ratings.book",
        ipv4: "172.17.0.13",
      },
      annotations: [
        {
          timestamp: 1641106512511722,
          value: "ss",
        },
      ],
      tags: {
        component: "proxy",
        downstream_cluster: "-",
        "guid:x-request-id": "b45b5a74-8c3f-9a73-ad2b-4aa8cdd3fc3d",
        "http.method": "GET",
        "http.protocol": "HTTP/1.1",
        "http.status_code": "200",
        "http.url": "http://ratings:9080/ratings/0",
        "istio.canonical_revision": "v1",
        "istio.canonical_service": "ratings",
        "istio.mesh_id": "cluster.local",
        "istio.namespace": "book",
        node_id:
          "sidecar~172.17.0.13~ratings-v1-5fcf4d8fcf-cbrlk.book~book.svc.cluster.local",
        "peer.address": "172.17.0.11",
        request_size: "0",
        response_flags: "-",
        response_size: "48",
        upstream_cluster: "inbound|9080||",
        "upstream_cluster.name": "inbound|9080||",
        user_agent:
          "Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/96.0.4664.93 Safari/537.36 Edg/96.0.1054.53",
      },
    },
    {
      traceId: "b65731faea46a011d9afaadeca781517",
      parentId: "041674a45e4809fb",
      id: "2a7a6991e3e99f03",
      kind: "CLIENT",
      name: "ratings.book.svc.cluster.local:9080/*",
      timestamp: 1641106512510696,
      duration: 1546,
      localEndpoint: {
        serviceName: "reviews.book",
        ipv4: "172.17.0.11",
      },
      annotations: [
        {
          timestamp: 1641106512512330,
          value: "cr",
        },
      ],
      tags: {
        component: "proxy",
        downstream_cluster: "-",
        "guid:x-request-id": "b45b5a74-8c3f-9a73-ad2b-4aa8cdd3fc3d",
        "http.method": "GET",
        "http.protocol": "HTTP/1.1",
        "http.status_code": "200",
        "http.url": "http://ratings:9080/ratings/0",
        "istio.canonical_revision": "v3",
        "istio.canonical_service": "reviews",
        "istio.mesh_id": "cluster.local",
        "istio.namespace": "book",
        node_id:
          "sidecar~172.17.0.11~reviews-v3-69d9c8447-pvtkc.book~book.svc.cluster.local",
        "peer.address": "172.17.0.11",
        request_size: "0",
        response_flags: "-",
        response_size: "48",
        upstream_cluster: "outbound|9080||ratings.book.svc.cluster.local",
        "upstream_cluster.name":
          "outbound|9080||ratings.book.svc.cluster.local",
        user_agent:
          "Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/96.0.4664.93 Safari/537.36 Edg/96.0.1054.53",
      },
    },
    {
      traceId: "b65731faea46a011d9afaadeca781517",
      parentId: "7e6b3d0812e3cc48",
      id: "fa3ae649c0c32a98",
      kind: "CLIENT",
      name: "details.book.svc.cluster.local:9080/*",
      timestamp: 1641106512496419,
      duration: 2195,
      localEndpoint: {
        serviceName: "productpage.book",
        ipv4: "172.17.0.6",
      },
      annotations: [
        {
          timestamp: 1641106512498673,
          value: "cr",
        },
      ],
      tags: {
        component: "proxy",
        downstream_cluster: "-",
        "guid:x-request-id": "b45b5a74-8c3f-9a73-ad2b-4aa8cdd3fc3d",
        "http.method": "GET",
        "http.protocol": "HTTP/1.1",
        "http.status_code": "200",
        "http.url": "http://details:9080/details/0",
        "istio.canonical_revision": "v1",
        "istio.canonical_service": "productpage",
        "istio.mesh_id": "cluster.local",
        "istio.namespace": "book",
        node_id:
          "sidecar~172.17.0.6~productpage-v1-68d947fbdf-rvpgh.book~book.svc.cluster.local",
        "peer.address": "172.17.0.6",
        request_size: "0",
        response_flags: "-",
        response_size: "178",
        upstream_cluster: "outbound|9080||details.book.svc.cluster.local",
        "upstream_cluster.name":
          "outbound|9080||details.book.svc.cluster.local",
        user_agent:
          "Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/96.0.4664.93 Safari/537.36 Edg/96.0.1054.53",
      },
    },
    {
      traceId: "b65731faea46a011d9afaadeca781517",
      parentId: "fa3ae649c0c32a98",
      id: "a06ae381780c7894",
      kind: "SERVER",
      name: "details.book.svc.cluster.local:9080/*",
      timestamp: 1641106512496855,
      duration: 1439,
      localEndpoint: {
        serviceName: "details.book",
        ipv4: "172.17.0.4",
      },
      annotations: [
        {
          timestamp: 1641106512498383,
          value: "ss",
        },
      ],
      tags: {
        component: "proxy",
        downstream_cluster: "-",
        "guid:x-request-id": "b45b5a74-8c3f-9a73-ad2b-4aa8cdd3fc3d",
        "http.method": "GET",
        "http.protocol": "HTTP/1.1",
        "http.status_code": "200",
        "http.url": "http://details:9080/details/0",
        "istio.canonical_revision": "v1",
        "istio.canonical_service": "details",
        "istio.mesh_id": "cluster.local",
        "istio.namespace": "book",
        node_id:
          "sidecar~172.17.0.4~details-v1-7dcb9897f-pnxxc.book~book.svc.cluster.local",
        "peer.address": "172.17.0.6",
        request_size: "0",
        response_flags: "-",
        response_size: "178",
        upstream_cluster: "inbound|9080||",
        "upstream_cluster.name": "inbound|9080||",
        user_agent:
          "Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/96.0.4664.93 Safari/537.36 Edg/96.0.1054.53",
      },
    },
    {
      traceId: "b65731faea46a011d9afaadeca781517",
      parentId: "7e6b3d0812e3cc48",
      id: "aebc963be620be00",
      kind: "CLIENT",
      name: "reviews.book.svc.cluster.local:9080/*",
      timestamp: 1641106512501640,
      duration: 14634,
      localEndpoint: {
        serviceName: "productpage.book",
        ipv4: "172.17.0.6",
      },
      annotations: [
        {
          timestamp: 1641106512516329,
          value: "cr",
        },
      ],
      tags: {
        component: "proxy",
        downstream_cluster: "-",
        "guid:x-request-id": "b45b5a74-8c3f-9a73-ad2b-4aa8cdd3fc3d",
        "http.method": "GET",
        "http.protocol": "HTTP/1.1",
        "http.status_code": "200",
        "http.url": "http://reviews:9080/reviews/0",
        "istio.canonical_revision": "v1",
        "istio.canonical_service": "productpage",
        "istio.mesh_id": "cluster.local",
        "istio.namespace": "book",
        node_id:
          "sidecar~172.17.0.6~productpage-v1-68d947fbdf-rvpgh.book~book.svc.cluster.local",
        "peer.address": "172.17.0.6",
        request_size: "0",
        response_flags: "-",
        response_size: "375",
        upstream_cluster: "outbound|9080||reviews.book.svc.cluster.local",
        "upstream_cluster.name":
          "outbound|9080||reviews.book.svc.cluster.local",
        user_agent:
          "Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/96.0.4664.93 Safari/537.36 Edg/96.0.1054.53",
      },
    },
    {
      traceId: "b65731faea46a011d9afaadeca781517",
      parentId: "aebc963be620be00",
      id: "041674a45e4809fb",
      kind: "SERVER",
      name: "reviews.book.svc.cluster.local:9080/*",
      timestamp: 1641106512501916,
      duration: 13879,
      localEndpoint: {
        serviceName: "reviews.book",
        ipv4: "172.17.0.11",
      },
      annotations: [
        {
          timestamp: 1641106512515892,
          value: "ss",
        },
      ],
      tags: {
        component: "proxy",
        downstream_cluster: "-",
        "guid:x-request-id": "b45b5a74-8c3f-9a73-ad2b-4aa8cdd3fc3d",
        "http.method": "GET",
        "http.protocol": "HTTP/1.1",
        "http.status_code": "200",
        "http.url": "http://reviews:9080/reviews/0",
        "istio.canonical_revision": "v3",
        "istio.canonical_service": "reviews",
        "istio.mesh_id": "cluster.local",
        "istio.namespace": "book",
        node_id:
          "sidecar~172.17.0.11~reviews-v3-69d9c8447-pvtkc.book~book.svc.cluster.local",
        "peer.address": "172.17.0.6",
        request_size: "0",
        response_flags: "-",
        response_size: "375",
        upstream_cluster: "inbound|9080||",
        "upstream_cluster.name": "inbound|9080||",
        user_agent:
          "Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/96.0.4664.93 Safari/537.36 Edg/96.0.1054.53",
      },
    },
    {
      traceId: "b65731faea46a011d9afaadeca781517",
      parentId: "d9afaadeca781517",
      id: "7e6b3d0812e3cc48",
      kind: "SERVER",
      name: "productpage.book.svc.cluster.local:9080/productpage",
      timestamp: 1641106512492025,
      duration: 25765,
      localEndpoint: {
        serviceName: "productpage.book",
        ipv4: "172.17.0.6",
      },
      annotations: [
        {
          timestamp: 1641106512517940,
          value: "ss",
        },
      ],
      tags: {
        component: "proxy",
        downstream_cluster: "-",
        "guid:x-request-id": "b45b5a74-8c3f-9a73-ad2b-4aa8cdd3fc3d",
        "http.method": "GET",
        "http.protocol": "HTTP/1.1",
        "http.status_code": "200",
        "http.url": "http://192.168.39.24:31629/productpage",
        "istio.canonical_revision": "v1",
        "istio.canonical_service": "productpage",
        "istio.mesh_id": "cluster.local",
        "istio.namespace": "book",
        node_id:
          "sidecar~172.17.0.6~productpage-v1-68d947fbdf-rvpgh.book~book.svc.cluster.local",
        "peer.address": "172.17.0.10",
        request_size: "0",
        response_flags: "-",
        response_size: "5179",
        upstream_cluster: "inbound|9080||",
        "upstream_cluster.name": "inbound|9080||",
        user_agent:
          "Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/96.0.4664.93 Safari/537.36 Edg/96.0.1054.53",
      },
    },
    {
      traceId: "b65731faea46a011d9afaadeca781517",
      id: "d9afaadeca781517",
      kind: "CLIENT",
      name: "productpage.book.svc.cluster.local:9080/productpage",
      timestamp: 1641106512491698,
      duration: 26553,
      localEndpoint: {
        serviceName: "istio-ingressgateway.istio-system",
        ipv4: "172.17.0.10",
      },
      annotations: [
        {
          timestamp: 1641106512518324,
          value: "cr",
        },
      ],
      tags: {
        component: "proxy",
        downstream_cluster: "-",
        "guid:x-request-id": "b45b5a74-8c3f-9a73-ad2b-4aa8cdd3fc3d",
        "http.method": "GET",
        "http.protocol": "HTTP/1.1",
        "http.status_code": "200",
        "http.url": "http://192.168.39.24:31629/productpage",
        "istio.canonical_revision": "latest",
        "istio.canonical_service": "istio-ingressgateway",
        "istio.mesh_id": "cluster.local",
        "istio.namespace": "istio-system",
        node_id:
          "router~172.17.0.10~istio-ingressgateway-8577c57fb6-htvml.istio-system~istio-system.svc.cluster.local",
        "peer.address": "172.17.0.1",
        request_size: "0",
        response_flags: "-",
        response_size: "5179",
        upstream_cluster: "outbound|9080||productpage.book.svc.cluster.local",
        "upstream_cluster.name":
          "outbound|9080||productpage.book.svc.cluster.local",
        user_agent:
          "Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/96.0.4664.93 Safari/537.36 Edg/96.0.1054.53",
      },
    },
  ],
  [
    {
      traceId: "d405b46bb8116d40a05d43589a2fba7f",
      parentId: "eacda810cf66282d",
      id: "c1e751740766b6f2",
      kind: "CLIENT",
      name: "details.book.svc.cluster.local:9080/*",
      timestamp: 1641106512369121,
      duration: 1469,
      localEndpoint: {
        serviceName: "productpage.book",
        ipv4: "172.17.0.6",
      },
      annotations: [
        {
          timestamp: 1641106512370625,
          value: "cr",
        },
      ],
      tags: {
        component: "proxy",
        downstream_cluster: "-",
        "guid:x-request-id": "1501af59-e612-9860-a8b6-70eac8ed82f9",
        "http.method": "GET",
        "http.protocol": "HTTP/1.1",
        "http.status_code": "200",
        "http.url": "http://details:9080/details/0",
        "istio.canonical_revision": "v1",
        "istio.canonical_service": "productpage",
        "istio.mesh_id": "cluster.local",
        "istio.namespace": "book",
        node_id:
          "sidecar~172.17.0.6~productpage-v1-68d947fbdf-rvpgh.book~book.svc.cluster.local",
        "peer.address": "172.17.0.6",
        request_size: "0",
        response_flags: "-",
        response_size: "178",
        upstream_cluster: "outbound|9080||details.book.svc.cluster.local",
        "upstream_cluster.name":
          "outbound|9080||details.book.svc.cluster.local",
        user_agent:
          "Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/96.0.4664.93 Safari/537.36 Edg/96.0.1054.53",
      },
    },
    {
      traceId: "d405b46bb8116d40a05d43589a2fba7f",
      parentId: "c1e751740766b6f2",
      id: "001b5954c2ea851b",
      kind: "SERVER",
      name: "details.book.svc.cluster.local:9080/*",
      timestamp: 1641106512369322,
      duration: 1023,
      localEndpoint: {
        serviceName: "details.book",
        ipv4: "172.17.0.4",
      },
      annotations: [
        {
          timestamp: 1641106512370408,
          value: "ss",
        },
      ],
      tags: {
        component: "proxy",
        downstream_cluster: "-",
        "guid:x-request-id": "1501af59-e612-9860-a8b6-70eac8ed82f9",
        "http.method": "GET",
        "http.protocol": "HTTP/1.1",
        "http.status_code": "200",
        "http.url": "http://details:9080/details/0",
        "istio.canonical_revision": "v1",
        "istio.canonical_service": "details",
        "istio.mesh_id": "cluster.local",
        "istio.namespace": "book",
        node_id:
          "sidecar~172.17.0.4~details-v1-7dcb9897f-pnxxc.book~book.svc.cluster.local",
        "peer.address": "172.17.0.6",
        request_size: "0",
        response_flags: "-",
        response_size: "178",
        upstream_cluster: "inbound|9080||",
        "upstream_cluster.name": "inbound|9080||",
        user_agent:
          "Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/96.0.4664.93 Safari/537.36 Edg/96.0.1054.53",
      },
    },
    {
      traceId: "d405b46bb8116d40a05d43589a2fba7f",
      parentId: "eacda810cf66282d",
      id: "d7b52d0c672baf27",
      kind: "CLIENT",
      name: "reviews.book.svc.cluster.local:9080/*",
      timestamp: 1641106512372578,
      duration: 3956,
      localEndpoint: {
        serviceName: "productpage.book",
        ipv4: "172.17.0.6",
      },
      annotations: [
        {
          timestamp: 1641106512376565,
          value: "cr",
        },
      ],
      tags: {
        component: "proxy",
        downstream_cluster: "-",
        "guid:x-request-id": "1501af59-e612-9860-a8b6-70eac8ed82f9",
        "http.method": "GET",
        "http.protocol": "HTTP/1.1",
        "http.status_code": "200",
        "http.url": "http://reviews:9080/reviews/0",
        "istio.canonical_revision": "v1",
        "istio.canonical_service": "productpage",
        "istio.mesh_id": "cluster.local",
        "istio.namespace": "book",
        node_id:
          "sidecar~172.17.0.6~productpage-v1-68d947fbdf-rvpgh.book~book.svc.cluster.local",
        "peer.address": "172.17.0.6",
        request_size: "0",
        response_flags: "-",
        response_size: "295",
        upstream_cluster: "outbound|9080||reviews.book.svc.cluster.local",
        "upstream_cluster.name":
          "outbound|9080||reviews.book.svc.cluster.local",
        user_agent:
          "Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/96.0.4664.93 Safari/537.36 Edg/96.0.1054.53",
      },
    },
    {
      traceId: "d405b46bb8116d40a05d43589a2fba7f",
      parentId: "d7b52d0c672baf27",
      id: "7862877b64ee0131",
      kind: "SERVER",
      name: "reviews.book.svc.cluster.local:9080/*",
      timestamp: 1641106512372753,
      duration: 3365,
      localEndpoint: {
        serviceName: "reviews.book",
        ipv4: "172.17.0.9",
      },
      annotations: [
        {
          timestamp: 1641106512376181,
          value: "ss",
        },
      ],
      tags: {
        component: "proxy",
        downstream_cluster: "-",
        "guid:x-request-id": "1501af59-e612-9860-a8b6-70eac8ed82f9",
        "http.method": "GET",
        "http.protocol": "HTTP/1.1",
        "http.status_code": "200",
        "http.url": "http://reviews:9080/reviews/0",
        "istio.canonical_revision": "v1",
        "istio.canonical_service": "reviews",
        "istio.mesh_id": "cluster.local",
        "istio.namespace": "book",
        node_id:
          "sidecar~172.17.0.9~reviews-v1-7ffd74f4c5-9zn98.book~book.svc.cluster.local",
        "peer.address": "172.17.0.6",
        request_size: "0",
        response_flags: "-",
        response_size: "295",
        upstream_cluster: "inbound|9080||",
        "upstream_cluster.name": "inbound|9080||",
        user_agent:
          "Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/96.0.4664.93 Safari/537.36 Edg/96.0.1054.53",
      },
    },
    {
      traceId: "d405b46bb8116d40a05d43589a2fba7f",
      parentId: "a05d43589a2fba7f",
      id: "eacda810cf66282d",
      kind: "SERVER",
      name: "productpage.book.svc.cluster.local:9080/productpage",
      timestamp: 1641106512364725,
      duration: 14112,
      localEndpoint: {
        serviceName: "productpage.book",
        ipv4: "172.17.0.6",
      },
      annotations: [
        {
          timestamp: 1641106512378915,
          value: "ss",
        },
      ],
      tags: {
        component: "proxy",
        downstream_cluster: "-",
        "guid:x-request-id": "1501af59-e612-9860-a8b6-70eac8ed82f9",
        "http.method": "GET",
        "http.protocol": "HTTP/1.1",
        "http.status_code": "200",
        "http.url": "http://192.168.39.24:31629/productpage",
        "istio.canonical_revision": "v1",
        "istio.canonical_service": "productpage",
        "istio.mesh_id": "cluster.local",
        "istio.namespace": "book",
        node_id:
          "sidecar~172.17.0.6~productpage-v1-68d947fbdf-rvpgh.book~book.svc.cluster.local",
        "peer.address": "172.17.0.10",
        request_size: "0",
        response_flags: "-",
        response_size: "4183",
        upstream_cluster: "inbound|9080||",
        "upstream_cluster.name": "inbound|9080||",
        user_agent:
          "Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/96.0.4664.93 Safari/537.36 Edg/96.0.1054.53",
      },
    },
    {
      traceId: "d405b46bb8116d40a05d43589a2fba7f",
      id: "a05d43589a2fba7f",
      kind: "CLIENT",
      name: "productpage.book.svc.cluster.local:9080/productpage",
      timestamp: 1641106512364491,
      duration: 14606,
      localEndpoint: {
        serviceName: "istio-ingressgateway.istio-system",
        ipv4: "172.17.0.10",
      },
      annotations: [
        {
          timestamp: 1641106512379175,
          value: "cr",
        },
      ],
      tags: {
        component: "proxy",
        downstream_cluster: "-",
        "guid:x-request-id": "1501af59-e612-9860-a8b6-70eac8ed82f9",
        "http.method": "GET",
        "http.protocol": "HTTP/1.1",
        "http.status_code": "200",
        "http.url": "http://192.168.39.24:31629/productpage",
        "istio.canonical_revision": "latest",
        "istio.canonical_service": "istio-ingressgateway",
        "istio.mesh_id": "cluster.local",
        "istio.namespace": "istio-system",
        node_id:
          "router~172.17.0.10~istio-ingressgateway-8577c57fb6-htvml.istio-system~istio-system.svc.cluster.local",
        "peer.address": "172.17.0.1",
        request_size: "0",
        response_flags: "-",
        response_size: "4183",
        upstream_cluster: "outbound|9080||productpage.book.svc.cluster.local",
        "upstream_cluster.name":
          "outbound|9080||productpage.book.svc.cluster.local",
        user_agent:
          "Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/96.0.4664.93 Safari/537.36 Edg/96.0.1054.53",
      },
    },
  ],
  [
    {
      traceId: "e6673587862f9fa000d0eb68488143bd",
      parentId: "a5c3dbe173e81bce",
      id: "e8282a21e201380e",
      kind: "SERVER",
      name: "details.book.svc.cluster.local:9080/*",
      timestamp: 1641106512242862,
      duration: 796,
      localEndpoint: {
        serviceName: "details.book",
        ipv4: "172.17.0.4",
      },
      annotations: [
        {
          timestamp: 1641106512243731,
          value: "ss",
        },
      ],
      tags: {
        component: "proxy",
        downstream_cluster: "-",
        "guid:x-request-id": "dd60cc93-1bc1-9a30-82f8-6bc3b1777bfc",
        "http.method": "GET",
        "http.protocol": "HTTP/1.1",
        "http.status_code": "200",
        "http.url": "http://details:9080/details/0",
        "istio.canonical_revision": "v1",
        "istio.canonical_service": "details",
        "istio.mesh_id": "cluster.local",
        "istio.namespace": "book",
        node_id:
          "sidecar~172.17.0.4~details-v1-7dcb9897f-pnxxc.book~book.svc.cluster.local",
        "peer.address": "172.17.0.6",
        request_size: "0",
        response_flags: "-",
        response_size: "178",
        upstream_cluster: "inbound|9080||",
        "upstream_cluster.name": "inbound|9080||",
        user_agent:
          "Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/96.0.4664.93 Safari/537.36 Edg/96.0.1054.53",
      },
    },
    {
      traceId: "e6673587862f9fa000d0eb68488143bd",
      parentId: "10bc1fc815fb6b2c",
      id: "a5c3dbe173e81bce",
      kind: "CLIENT",
      name: "details.book.svc.cluster.local:9080/*",
      timestamp: 1641106512242615,
      duration: 1581,
      localEndpoint: {
        serviceName: "productpage.book",
        ipv4: "172.17.0.6",
      },
      annotations: [
        {
          timestamp: 1641106512244256,
          value: "cr",
        },
      ],
      tags: {
        component: "proxy",
        downstream_cluster: "-",
        "guid:x-request-id": "dd60cc93-1bc1-9a30-82f8-6bc3b1777bfc",
        "http.method": "GET",
        "http.protocol": "HTTP/1.1",
        "http.status_code": "200",
        "http.url": "http://details:9080/details/0",
        "istio.canonical_revision": "v1",
        "istio.canonical_service": "productpage",
        "istio.mesh_id": "cluster.local",
        "istio.namespace": "book",
        node_id:
          "sidecar~172.17.0.6~productpage-v1-68d947fbdf-rvpgh.book~book.svc.cluster.local",
        "peer.address": "172.17.0.6",
        request_size: "0",
        response_flags: "-",
        response_size: "178",
        upstream_cluster: "outbound|9080||details.book.svc.cluster.local",
        "upstream_cluster.name":
          "outbound|9080||details.book.svc.cluster.local",
        user_agent:
          "Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/96.0.4664.93 Safari/537.36 Edg/96.0.1054.53",
      },
    },
    {
      traceId: "e6673587862f9fa000d0eb68488143bd",
      id: "00d0eb68488143bd",
      kind: "CLIENT",
      name: "productpage.book.svc.cluster.local:9080/productpage",
      timestamp: 1641106512239320,
      duration: 19055,
      localEndpoint: {
        serviceName: "istio-ingressgateway.istio-system",
        ipv4: "172.17.0.10",
      },
      annotations: [
        {
          timestamp: 1641106512258444,
          value: "cr",
        },
      ],
      tags: {
        component: "proxy",
        downstream_cluster: "-",
        "guid:x-request-id": "dd60cc93-1bc1-9a30-82f8-6bc3b1777bfc",
        "http.method": "GET",
        "http.protocol": "HTTP/1.1",
        "http.status_code": "200",
        "http.url": "http://192.168.39.24:31629/productpage",
        "istio.canonical_revision": "latest",
        "istio.canonical_service": "istio-ingressgateway",
        "istio.mesh_id": "cluster.local",
        "istio.namespace": "istio-system",
        node_id:
          "router~172.17.0.10~istio-ingressgateway-8577c57fb6-htvml.istio-system~istio-system.svc.cluster.local",
        "peer.address": "172.17.0.1",
        request_size: "0",
        response_flags: "-",
        response_size: "5183",
        upstream_cluster: "outbound|9080||productpage.book.svc.cluster.local",
        "upstream_cluster.name":
          "outbound|9080||productpage.book.svc.cluster.local",
        user_agent:
          "Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/96.0.4664.93 Safari/537.36 Edg/96.0.1054.53",
      },
    },
    {
      traceId: "e6673587862f9fa000d0eb68488143bd",
      parentId: "00d0eb68488143bd",
      id: "10bc1fc815fb6b2c",
      kind: "SERVER",
      name: "productpage.book.svc.cluster.local:9080/productpage",
      timestamp: 1641106512239551,
      duration: 18483,
      localEndpoint: {
        serviceName: "productpage.book",
        ipv4: "172.17.0.6",
      },
      annotations: [
        {
          timestamp: 1641106512258112,
          value: "ss",
        },
      ],
      tags: {
        component: "proxy",
        downstream_cluster: "-",
        "guid:x-request-id": "dd60cc93-1bc1-9a30-82f8-6bc3b1777bfc",
        "http.method": "GET",
        "http.protocol": "HTTP/1.1",
        "http.status_code": "200",
        "http.url": "http://192.168.39.24:31629/productpage",
        "istio.canonical_revision": "v1",
        "istio.canonical_service": "productpage",
        "istio.mesh_id": "cluster.local",
        "istio.namespace": "book",
        node_id:
          "sidecar~172.17.0.6~productpage-v1-68d947fbdf-rvpgh.book~book.svc.cluster.local",
        "peer.address": "172.17.0.10",
        request_size: "0",
        response_flags: "-",
        response_size: "5183",
        upstream_cluster: "inbound|9080||",
        "upstream_cluster.name": "inbound|9080||",
        user_agent:
          "Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/96.0.4664.93 Safari/537.36 Edg/96.0.1054.53",
      },
    },
    {
      traceId: "e6673587862f9fa000d0eb68488143bd",
      parentId: "10bc1fc815fb6b2c",
      id: "9c7209d533327640",
      kind: "CLIENT",
      name: "reviews.book.svc.cluster.local:9080/*",
      timestamp: 1641106512246261,
      duration: 10030,
      localEndpoint: {
        serviceName: "productpage.book",
        ipv4: "172.17.0.6",
      },
      annotations: [
        {
          timestamp: 1641106512256339,
          value: "cr",
        },
      ],
      tags: {
        component: "proxy",
        downstream_cluster: "-",
        "guid:x-request-id": "dd60cc93-1bc1-9a30-82f8-6bc3b1777bfc",
        "http.method": "GET",
        "http.protocol": "HTTP/1.1",
        "http.status_code": "200",
        "http.url": "http://reviews:9080/reviews/0",
        "istio.canonical_revision": "v1",
        "istio.canonical_service": "productpage",
        "istio.mesh_id": "cluster.local",
        "istio.namespace": "book",
        node_id:
          "sidecar~172.17.0.6~productpage-v1-68d947fbdf-rvpgh.book~book.svc.cluster.local",
        "peer.address": "172.17.0.6",
        request_size: "0",
        response_flags: "-",
        response_size: "379",
        upstream_cluster: "outbound|9080||reviews.book.svc.cluster.local",
        "upstream_cluster.name":
          "outbound|9080||reviews.book.svc.cluster.local",
        user_agent:
          "Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/96.0.4664.93 Safari/537.36 Edg/96.0.1054.53",
      },
    },
    {
      traceId: "e6673587862f9fa000d0eb68488143bd",
      parentId: "9c7209d533327640",
      id: "616ad16c65b50d4a",
      kind: "SERVER",
      name: "reviews.book.svc.cluster.local:9080/*",
      timestamp: 1641106512246491,
      duration: 9393,
      localEndpoint: {
        serviceName: "reviews.book",
        ipv4: "172.17.0.3",
      },
      annotations: [
        {
          timestamp: 1641106512255968,
          value: "ss",
        },
      ],
      tags: {
        component: "proxy",
        downstream_cluster: "-",
        "guid:x-request-id": "dd60cc93-1bc1-9a30-82f8-6bc3b1777bfc",
        "http.method": "GET",
        "http.protocol": "HTTP/1.1",
        "http.status_code": "200",
        "http.url": "http://reviews:9080/reviews/0",
        "istio.canonical_revision": "v2",
        "istio.canonical_service": "reviews",
        "istio.mesh_id": "cluster.local",
        "istio.namespace": "book",
        node_id:
          "sidecar~172.17.0.3~reviews-v2-d5dccbf9-t6xbq.book~book.svc.cluster.local",
        "peer.address": "172.17.0.6",
        request_size: "0",
        response_flags: "-",
        response_size: "379",
        upstream_cluster: "inbound|9080||",
        "upstream_cluster.name": "inbound|9080||",
        user_agent:
          "Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/96.0.4664.93 Safari/537.36 Edg/96.0.1054.53",
      },
    },
    {
      traceId: "e6673587862f9fa000d0eb68488143bd",
      parentId: "3092cb4c2e9154f2",
      id: "c40b043e1644f125",
      kind: "SERVER",
      name: "ratings.book.svc.cluster.local:9080/*",
      timestamp: 1641106512252815,
      duration: 751,
      localEndpoint: {
        serviceName: "ratings.book",
        ipv4: "172.17.0.13",
      },
      annotations: [
        {
          timestamp: 1641106512253652,
          value: "ss",
        },
      ],
      tags: {
        component: "proxy",
        downstream_cluster: "-",
        "guid:x-request-id": "dd60cc93-1bc1-9a30-82f8-6bc3b1777bfc",
        "http.method": "GET",
        "http.protocol": "HTTP/1.1",
        "http.status_code": "200",
        "http.url": "http://ratings:9080/ratings/0",
        "istio.canonical_revision": "v1",
        "istio.canonical_service": "ratings",
        "istio.mesh_id": "cluster.local",
        "istio.namespace": "book",
        node_id:
          "sidecar~172.17.0.13~ratings-v1-5fcf4d8fcf-cbrlk.book~book.svc.cluster.local",
        "peer.address": "172.17.0.3",
        request_size: "0",
        response_flags: "-",
        response_size: "48",
        upstream_cluster: "inbound|9080||",
        "upstream_cluster.name": "inbound|9080||",
        user_agent:
          "Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/96.0.4664.93 Safari/537.36 Edg/96.0.1054.53",
      },
    },
    {
      traceId: "e6673587862f9fa000d0eb68488143bd",
      parentId: "616ad16c65b50d4a",
      id: "3092cb4c2e9154f2",
      kind: "CLIENT",
      name: "ratings.book.svc.cluster.local:9080/*",
      timestamp: 1641106512252487,
      duration: 1386,
      localEndpoint: {
        serviceName: "reviews.book",
        ipv4: "172.17.0.3",
      },
      annotations: [
        {
          timestamp: 1641106512253947,
          value: "cr",
        },
      ],
      tags: {
        component: "proxy",
        downstream_cluster: "-",
        "guid:x-request-id": "dd60cc93-1bc1-9a30-82f8-6bc3b1777bfc",
        "http.method": "GET",
        "http.protocol": "HTTP/1.1",
        "http.status_code": "200",
        "http.url": "http://ratings:9080/ratings/0",
        "istio.canonical_revision": "v2",
        "istio.canonical_service": "reviews",
        "istio.mesh_id": "cluster.local",
        "istio.namespace": "book",
        node_id:
          "sidecar~172.17.0.3~reviews-v2-d5dccbf9-t6xbq.book~book.svc.cluster.local",
        "peer.address": "172.17.0.3",
        request_size: "0",
        response_flags: "-",
        response_size: "48",
        upstream_cluster: "outbound|9080||ratings.book.svc.cluster.local",
        "upstream_cluster.name":
          "outbound|9080||ratings.book.svc.cluster.local",
        user_agent:
          "Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/96.0.4664.93 Safari/537.36 Edg/96.0.1054.53",
      },
    },
  ],
];

const MockEndpointDependencies = [
  {
    endpoint: {
      labelName: "ratings.book.svc.cluster.local:9080/*",
      version: "v1",
      service: "ratings",
      namespace: "book",
      url: "http://ratings:9080/ratings/0",
      host: "ratings",
      path: "/ratings/0",
      port: ":9080",
      clusterName: "cluster.local",
      method: "GET",
      uniqueServiceName: "ratings\tbook\tv1",
      uniqueEndpointName:
        "ratings\tbook\tv1\tGET\thttp://ratings:9080/ratings/0",
    },
    dependingOn: [],
    dependingBy: [
      {
        endpoint: {
          labelName: "reviews.book.svc.cluster.local:9080/*",
          version: "v2",
          service: "reviews",
          namespace: "book",
          url: "http://reviews:9080/reviews/0",
          host: "reviews",
          path: "/reviews/0",
          port: ":9080",
          clusterName: "cluster.local",
          method: "GET",
          uniqueServiceName: "reviews\tbook\tv2",
          uniqueEndpointName:
            "reviews\tbook\tv2\tGET\thttp://reviews:9080/reviews/0",
        },
        distance: 1,
        type: "CLIENT",
      },
      {
        endpoint: {
          labelName: "productpage.book.svc.cluster.local:9080/productpage",
          version: "v1",
          service: "productpage",
          namespace: "book",
          url: "http://192.168.39.24:31629/productpage",
          host: "192.168.39.24",
          path: "/productpage",
          port: ":31629",
          clusterName: "cluster.local",
          method: "GET",
          uniqueServiceName: "productpage\tbook\tv1",
          uniqueEndpointName:
            "productpage\tbook\tv1\tGET\thttp://192.168.39.24:31629/productpage",
        },
        distance: 2,
        type: "CLIENT",
      },
      {
        endpoint: {
          labelName: "reviews.book.svc.cluster.local:9080/*",
          version: "v3",
          service: "reviews",
          namespace: "book",
          url: "http://reviews:9080/reviews/0",
          host: "reviews",
          path: "/reviews/0",
          port: ":9080",
          clusterName: "cluster.local",
          method: "GET",
          uniqueServiceName: "reviews\tbook\tv3",
          uniqueEndpointName:
            "reviews\tbook\tv3\tGET\thttp://reviews:9080/reviews/0",
        },
        distance: 1,
        type: "CLIENT",
      },
    ],
  },
  {
    endpoint: {
      labelName: "reviews.book.svc.cluster.local:9080/*",
      version: "v2",
      service: "reviews",
      namespace: "book",
      url: "http://reviews:9080/reviews/0",
      host: "reviews",
      path: "/reviews/0",
      port: ":9080",
      clusterName: "cluster.local",
      method: "GET",
      uniqueServiceName: "reviews\tbook\tv2",
      uniqueEndpointName:
        "reviews\tbook\tv2\tGET\thttp://reviews:9080/reviews/0",
    },
    dependingOn: [
      {
        endpoint: {
          labelName: "ratings.book.svc.cluster.local:9080/*",
          version: "v1",
          service: "ratings",
          namespace: "book",
          url: "http://ratings:9080/ratings/0",
          host: "ratings",
          path: "/ratings/0",
          port: ":9080",
          clusterName: "cluster.local",
          method: "GET",
          uniqueServiceName: "ratings\tbook\tv1",
          uniqueEndpointName:
            "ratings\tbook\tv1\tGET\thttp://ratings:9080/ratings/0",
        },
        distance: 1,
        type: "SERVER",
      },
    ],
    dependingBy: [
      {
        endpoint: {
          labelName: "productpage.book.svc.cluster.local:9080/productpage",
          version: "v1",
          service: "productpage",
          namespace: "book",
          url: "http://192.168.39.24:31629/productpage",
          host: "192.168.39.24",
          path: "/productpage",
          port: ":31629",
          clusterName: "cluster.local",
          method: "GET",
          uniqueServiceName: "productpage\tbook\tv1",
          uniqueEndpointName:
            "productpage\tbook\tv1\tGET\thttp://192.168.39.24:31629/productpage",
        },
        distance: 1,
        type: "CLIENT",
      },
    ],
  },
  {
    endpoint: {
      labelName: "productpage.book.svc.cluster.local:9080/productpage",
      version: "v1",
      service: "productpage",
      namespace: "book",
      url: "http://192.168.39.24:31629/productpage",
      host: "192.168.39.24",
      path: "/productpage",
      port: ":31629",
      clusterName: "cluster.local",
      method: "GET",
      uniqueServiceName: "productpage\tbook\tv1",
      uniqueEndpointName:
        "productpage\tbook\tv1\tGET\thttp://192.168.39.24:31629/productpage",
    },
    dependingOn: [
      {
        endpoint: {
          labelName: "reviews.book.svc.cluster.local:9080/*",
          version: "v1",
          service: "reviews",
          namespace: "book",
          url: "http://reviews:9080/reviews/0",
          host: "reviews",
          path: "/reviews/0",
          port: ":9080",
          clusterName: "cluster.local",
          method: "GET",
          uniqueServiceName: "reviews\tbook\tv1",
          uniqueEndpointName:
            "reviews\tbook\tv1\tGET\thttp://reviews:9080/reviews/0",
        },
        distance: 1,
        type: "SERVER",
      },
      {
        endpoint: {
          labelName: "reviews.book.svc.cluster.local:9080/*",
          version: "v3",
          service: "reviews",
          namespace: "book",
          url: "http://reviews:9080/reviews/0",
          host: "reviews",
          path: "/reviews/0",
          port: ":9080",
          clusterName: "cluster.local",
          method: "GET",
          uniqueServiceName: "reviews\tbook\tv3",
          uniqueEndpointName:
            "reviews\tbook\tv3\tGET\thttp://reviews:9080/reviews/0",
        },
        distance: 1,
        type: "SERVER",
      },
      {
        endpoint: {
          labelName: "details.book.svc.cluster.local:9080/*",
          version: "v1",
          service: "details",
          namespace: "book",
          url: "http://details:9080/details/0",
          host: "details",
          path: "/details/0",
          port: ":9080",
          clusterName: "cluster.local",
          method: "GET",
          uniqueServiceName: "details\tbook\tv1",
          uniqueEndpointName:
            "details\tbook\tv1\tGET\thttp://details:9080/details/0",
        },
        distance: 1,
        type: "SERVER",
      },
      {
        endpoint: {
          labelName: "reviews.book.svc.cluster.local:9080/*",
          version: "v2",
          service: "reviews",
          namespace: "book",
          url: "http://reviews:9080/reviews/0",
          host: "reviews",
          path: "/reviews/0",
          port: ":9080",
          clusterName: "cluster.local",
          method: "GET",
          uniqueServiceName: "reviews\tbook\tv2",
          uniqueEndpointName:
            "reviews\tbook\tv2\tGET\thttp://reviews:9080/reviews/0",
        },
        distance: 1,
        type: "SERVER",
      },
      {
        endpoint: {
          labelName: "ratings.book.svc.cluster.local:9080/*",
          version: "v1",
          service: "ratings",
          namespace: "book",
          url: "http://ratings:9080/ratings/0",
          host: "ratings",
          path: "/ratings/0",
          port: ":9080",
          clusterName: "cluster.local",
          method: "GET",
          uniqueServiceName: "ratings\tbook\tv1",
          uniqueEndpointName:
            "ratings\tbook\tv1\tGET\thttp://ratings:9080/ratings/0",
        },
        distance: 2,
        type: "SERVER",
      },
    ],
    dependingBy: [],
  },
  {
    endpoint: {
      labelName: "details.book.svc.cluster.local:9080/*",
      version: "v1",
      service: "details",
      namespace: "book",
      url: "http://details:9080/details/0",
      host: "details",
      path: "/details/0",
      port: ":9080",
      clusterName: "cluster.local",
      method: "GET",
      uniqueServiceName: "details\tbook\tv1",
      uniqueEndpointName:
        "details\tbook\tv1\tGET\thttp://details:9080/details/0",
    },
    dependingOn: [],
    dependingBy: [
      {
        endpoint: {
          labelName: "productpage.book.svc.cluster.local:9080/productpage",
          version: "v1",
          service: "productpage",
          namespace: "book",
          url: "http://192.168.39.24:31629/productpage",
          host: "192.168.39.24",
          path: "/productpage",
          port: ":31629",
          clusterName: "cluster.local",
          method: "GET",
          uniqueServiceName: "productpage\tbook\tv1",
          uniqueEndpointName:
            "productpage\tbook\tv1\tGET\thttp://192.168.39.24:31629/productpage",
        },
        distance: 1,
        type: "CLIENT",
      },
    ],
  },
  {
    endpoint: {
      labelName: "reviews.book.svc.cluster.local:9080/*",
      version: "v3",
      service: "reviews",
      namespace: "book",
      url: "http://reviews:9080/reviews/0",
      host: "reviews",
      path: "/reviews/0",
      port: ":9080",
      clusterName: "cluster.local",
      method: "GET",
      uniqueServiceName: "reviews\tbook\tv3",
      uniqueEndpointName:
        "reviews\tbook\tv3\tGET\thttp://reviews:9080/reviews/0",
    },
    dependingOn: [
      {
        endpoint: {
          labelName: "ratings.book.svc.cluster.local:9080/*",
          version: "v1",
          service: "ratings",
          namespace: "book",
          url: "http://ratings:9080/ratings/0",
          host: "ratings",
          path: "/ratings/0",
          port: ":9080",
          clusterName: "cluster.local",
          method: "GET",
          uniqueServiceName: "ratings\tbook\tv1",
          uniqueEndpointName:
            "ratings\tbook\tv1\tGET\thttp://ratings:9080/ratings/0",
        },
        distance: 1,
        type: "SERVER",
      },
    ],
    dependingBy: [
      {
        endpoint: {
          labelName: "productpage.book.svc.cluster.local:9080/productpage",
          version: "v1",
          service: "productpage",
          namespace: "book",
          url: "http://192.168.39.24:31629/productpage",
          host: "192.168.39.24",
          path: "/productpage",
          port: ":31629",
          clusterName: "cluster.local",
          method: "GET",
          uniqueServiceName: "productpage\tbook\tv1",
          uniqueEndpointName:
            "productpage\tbook\tv1\tGET\thttp://192.168.39.24:31629/productpage",
        },
        distance: 1,
        type: "CLIENT",
      },
    ],
  },
  {
    endpoint: {
      labelName: "reviews.book.svc.cluster.local:9080/*",
      version: "v1",
      service: "reviews",
      namespace: "book",
      url: "http://reviews:9080/reviews/0",
      host: "reviews",
      path: "/reviews/0",
      port: ":9080",
      clusterName: "cluster.local",
      method: "GET",
      uniqueServiceName: "reviews\tbook\tv1",
      uniqueEndpointName:
        "reviews\tbook\tv1\tGET\thttp://reviews:9080/reviews/0",
    },
    dependingOn: [],
    dependingBy: [
      {
        endpoint: {
          labelName: "productpage.book.svc.cluster.local:9080/productpage",
          version: "v1",
          service: "productpage",
          namespace: "book",
          url: "http://192.168.39.24:31629/productpage",
          host: "192.168.39.24",
          path: "/productpage",
          port: ":31629",
          clusterName: "cluster.local",
          method: "GET",
          uniqueServiceName: "productpage\tbook\tv1",
          uniqueEndpointName:
            "productpage\tbook\tv1\tGET\thttp://192.168.39.24:31629/productpage",
        },
        distance: 1,
        type: "CLIENT",
      },
    ],
  },
];

const MockLogs: TEnvoyLog[] = [
  // {
  //   timestamp: new Date("2022-01-01T06:48:31.057Z"),
  //   type: "Request",
  //   requestId: "e8c54b43-d810-912c-8b08-e4c2f6249b19",
  //   traceId: "50398473642538df0f1c5fa1b6aebbfb",
  //   method: "GET",
  //   path: "details:9080/details/0",
  //   namespace: "book",
  //   podName: "details-v1-7dcb9897f-pnxxc",
  // },
  // {
  //   timestamp: new Date("2022-01-01T06:48:31.058Z"),
  //   type: "Response",
  //   requestId: "e8c54b43-d810-912c-8b08-e4c2f6249b19",
  //   status: "200",
  //   body: '{"id":0,"author":"William Shakespeare","year":1595,"type":"paperback","pages":200,"publisher":"PublisherA","language":"English","ISBN-10":"1234567890","ISBN-13":"123-1234567890"}',
  //   namespace: "book",
  //   podName: "details-v1-7dcb9897f-pnxxc",
  // },
  // {
  //   timestamp: new Date("2022-01-01T06:48:32.705Z"),
  //   type: "Request",
  //   requestId: "e3ca2764-766b-9b8f-8384-bd893cd76dab",
  //   traceId: "1b6ddec1c9e5f94d54d23b8322eef960",
  //   method: "GET",
  //   path: "details:9080/details/0",
  //   namespace: "book",
  //   podName: "details-v1-7dcb9897f-pnxxc",
  // },
  // {
  //   timestamp: new Date("2022-01-01T06:48:32.706Z"),
  //   type: "Response",
  //   requestId: "e3ca2764-766b-9b8f-8384-bd893cd76dab",
  //   status: "200",
  //   body: '{"id":0,"author":"William Shakespeare","year":1595,"type":"paperback","pages":200,"publisher":"PublisherA","language":"English","ISBN-10":"1234567890","ISBN-13":"123-1234567890"}',
  //   namespace: "book",
  //   podName: "details-v1-7dcb9897f-pnxxc",
  // },
  // {
  //   timestamp: new Date("2022-01-01T06:48:33.478Z"),
  //   type: "Request",
  //   requestId: "bdc58fbc-c2d4-9aaf-af51-02aa2f11611e",
  //   traceId: "50693ab76557d377a9e9eeefa89169ec",
  //   method: "GET",
  //   path: "details:9080/details/0",
  //   namespace: "book",
  //   podName: "details-v1-7dcb9897f-pnxxc",
  // },
  // {
  //   timestamp: new Date("2022-01-01T06:48:33.479Z"),
  //   type: "Request",
  //   requestId: "bdc58fbc-c2d4-9aaf-af51-02aa2f11611f",
  //   traceId: "50693ab76557d377a9e9eeefa89169ec",
  //   method: "GET",
  //   path: "details:9080/details/0",
  //   namespace: "book",
  //   podName: "details-v1-7dcb9897f-pnxxc",
  // },
];

const MockTracePDAS = [
  {
    traceId: "4a5e59b938fc24847f6746ec4285c01e",
    parentId: "ebc13038a68d6ca8",
    id: "24a40f72c05bed24",
    kind: "SERVER",
    name: "user-service.pdas.svc.cluster.local:80/*",
    timestamp: 1646208338224823,
    duration: 1903,
    localEndpoint: { serviceName: "user-service.pdas", ipv4: "172.17.0.24" },
    annotations: [{ timestamp: 1646208338226812, value: "ss" }],
    tags: {
      component: "proxy",
      downstream_cluster: "-",
      "guid:x-request-id": "8c78cf18-cba3-9da3-a3d7-3c63ad4108f1",
      "http.method": "GET",
      "http.protocol": "HTTP/1.1",
      "http.status_code": "200",
      "http.url":
        "http://user-service.pdas.svc.cluster.local/internal/user/user/email/admin",
      "istio.canonical_revision": "latest",
      "istio.canonical_service": "user-service",
      "istio.mesh_id": "cluster.local",
      "istio.namespace": "pdas",
      node_id:
        "sidecar~172.17.0.24~user-service-54bdfb4bcc-dwzqt.pdas~pdas.svc.cluster.local",
      "peer.address": "172.17.0.19",
      request_size: "0",
      response_flags: "-",
      response_size: "227",
      upstream_cluster: "inbound|4502||",
      "upstream_cluster.name": "inbound|4502||",
      user_agent: "Java/11.0.9.1",
    },
  },
  {
    traceId: "4a5e59b938fc24847f6746ec4285c01e",
    parentId: "22edae1c77cebbbe",
    id: "ebc13038a68d6ca8",
    kind: "CLIENT",
    name: "user-service.pdas.svc.cluster.local:80/*",
    timestamp: 1646208338224579,
    duration: 2565,
    localEndpoint: {
      serviceName: "external-service.pdas",
      ipv4: "172.17.0.19",
    },
    annotations: [{ timestamp: 1646208338227190, value: "cr" }],
    tags: {
      component: "proxy",
      downstream_cluster: "-",
      "guid:x-request-id": "8c78cf18-cba3-9da3-a3d7-3c63ad4108f1",
      "http.method": "GET",
      "http.protocol": "HTTP/1.1",
      "http.status_code": "200",
      "http.url":
        "http://user-service.pdas.svc.cluster.local/internal/user/user/email/admin",
      "istio.canonical_revision": "latest",
      "istio.canonical_service": "external-service",
      "istio.mesh_id": "cluster.local",
      "istio.namespace": "pdas",
      node_id:
        "sidecar~172.17.0.19~external-service-794ccfd97-sjz2c.pdas~pdas.svc.cluster.local",
      "peer.address": "172.17.0.19",
      request_size: "0",
      response_flags: "-",
      response_size: "227",
      upstream_cluster: "outbound|80||user-service.pdas.svc.cluster.local",
      "upstream_cluster.name":
        "outbound|80||user-service.pdas.svc.cluster.local",
      user_agent: "Java/11.0.9.1",
    },
  },
  {
    traceId: "4a5e59b938fc24847f6746ec4285c01e",
    parentId: "5fca8747e2281c08",
    id: "aed0ef16fd098180",
    kind: "SERVER",
    name: "user-service.pdas.svc.cluster.local:80/*",
    timestamp: 1646208338227724,
    duration: 1094,
    localEndpoint: { serviceName: "user-service.pdas", ipv4: "172.17.0.24" },
    annotations: [{ timestamp: 1646208338228884, value: "ss" }],
    tags: {
      component: "proxy",
      downstream_cluster: "-",
      "guid:x-request-id": "8c78cf18-cba3-9da3-a3d7-3c63ad4108f1",
      "http.method": "GET",
      "http.protocol": "HTTP/1.1",
      "http.status_code": "200",
      "http.url":
        "http://user-service.pdas.svc.cluster.local/internal/user/user/email/admin",
      "istio.canonical_revision": "latest",
      "istio.canonical_service": "user-service",
      "istio.mesh_id": "cluster.local",
      "istio.namespace": "pdas",
      node_id:
        "sidecar~172.17.0.24~user-service-54bdfb4bcc-dwzqt.pdas~pdas.svc.cluster.local",
      "peer.address": "172.17.0.19",
      request_size: "0",
      response_flags: "-",
      response_size: "227",
      upstream_cluster: "inbound|4502||",
      "upstream_cluster.name": "inbound|4502||",
      user_agent: "Java/11.0.9.1",
    },
  },
  {
    traceId: "4a5e59b938fc24847f6746ec4285c01e",
    parentId: "22edae1c77cebbbe",
    id: "5fca8747e2281c08",
    kind: "CLIENT",
    name: "user-service.pdas.svc.cluster.local:80/*",
    timestamp: 1646208338227497,
    duration: 1558,
    localEndpoint: {
      serviceName: "external-service.pdas",
      ipv4: "172.17.0.19",
    },
    annotations: [{ timestamp: 1646208338229106, value: "cr" }],
    tags: {
      component: "proxy",
      downstream_cluster: "-",
      "guid:x-request-id": "8c78cf18-cba3-9da3-a3d7-3c63ad4108f1",
      "http.method": "GET",
      "http.protocol": "HTTP/1.1",
      "http.status_code": "200",
      "http.url":
        "http://user-service.pdas.svc.cluster.local/internal/user/user/email/admin",
      "istio.canonical_revision": "latest",
      "istio.canonical_service": "external-service",
      "istio.mesh_id": "cluster.local",
      "istio.namespace": "pdas",
      node_id:
        "sidecar~172.17.0.19~external-service-794ccfd97-sjz2c.pdas~pdas.svc.cluster.local",
      "peer.address": "172.17.0.19",
      request_size: "0",
      response_flags: "-",
      response_size: "227",
      upstream_cluster: "outbound|80||user-service.pdas.svc.cluster.local",
      "upstream_cluster.name":
        "outbound|80||user-service.pdas.svc.cluster.local",
      user_agent: "Java/11.0.9.1",
    },
  },
  {
    traceId: "4a5e59b938fc24847f6746ec4285c01e",
    parentId: "ea9f6214dd9410b9",
    id: "d7618fb68cdc44c1",
    kind: "SERVER",
    name: "contract-service.pdas.svc.cluster.local:80/*",
    timestamp: 1646208338231628,
    duration: 1523,
    localEndpoint: { serviceName: "contract-service.pdas", ipv4: "172.17.0.9" },
    annotations: [{ timestamp: 1646208338233247, value: "ss" }],
    tags: {
      component: "proxy",
      downstream_cluster: "-",
      "guid:x-request-id": "8c78cf18-cba3-9da3-a3d7-3c63ad4108f1",
      "http.method": "POST",
      "http.protocol": "HTTP/1.1",
      "http.status_code": "200",
      "http.url":
        "http://contract-service.pdas.svc.cluster.local/internal/contract/init",
      "istio.canonical_revision": "latest",
      "istio.canonical_service": "contract-service",
      "istio.mesh_id": "cluster.local",
      "istio.namespace": "pdas",
      node_id:
        "sidecar~172.17.0.9~contract-service-56df7b9999-8q7zj.pdas~pdas.svc.cluster.local",
      "peer.address": "172.17.0.19",
      request_size: "158",
      response_flags: "-",
      response_size: "473",
      upstream_cluster: "inbound|4505||",
      "upstream_cluster.name": "inbound|4505||",
      user_agent: "Java/11.0.9.1",
    },
  },
  {
    traceId: "4a5e59b938fc24847f6746ec4285c01e",
    parentId: "22edae1c77cebbbe",
    id: "ea9f6214dd9410b9",
    kind: "CLIENT",
    name: "contract-service.pdas.svc.cluster.local:80/*",
    timestamp: 1646208338231429,
    duration: 1984,
    localEndpoint: {
      serviceName: "external-service.pdas",
      ipv4: "172.17.0.19",
    },
    annotations: [{ timestamp: 1646208338233449, value: "cr" }],
    tags: {
      component: "proxy",
      downstream_cluster: "-",
      "guid:x-request-id": "8c78cf18-cba3-9da3-a3d7-3c63ad4108f1",
      "http.method": "POST",
      "http.protocol": "HTTP/1.1",
      "http.status_code": "200",
      "http.url":
        "http://contract-service.pdas.svc.cluster.local/internal/contract/init",
      "istio.canonical_revision": "latest",
      "istio.canonical_service": "external-service",
      "istio.mesh_id": "cluster.local",
      "istio.namespace": "pdas",
      node_id:
        "sidecar~172.17.0.19~external-service-794ccfd97-sjz2c.pdas~pdas.svc.cluster.local",
      "peer.address": "172.17.0.19",
      request_size: "158",
      response_flags: "-",
      response_size: "473",
      upstream_cluster: "outbound|80||contract-service.pdas.svc.cluster.local",
      "upstream_cluster.name":
        "outbound|80||contract-service.pdas.svc.cluster.local",
      user_agent: "Java/11.0.9.1",
    },
  },
  {
    traceId: "4a5e59b938fc24847f6746ec4285c01e",
    parentId: "7f6746ec4285c01e",
    id: "22edae1c77cebbbe",
    kind: "SERVER",
    name: "external-service.pdas.svc.cluster.local:80/pdas/sa/requestcontract*",
    timestamp: 1646208338216165,
    duration: 17776,
    localEndpoint: {
      serviceName: "external-service.pdas",
      ipv4: "172.17.0.19",
    },
    annotations: [{ timestamp: 1646208338234063, value: "ss" }],
    tags: {
      component: "proxy",
      downstream_cluster: "-",
      "guid:x-request-id": "8c78cf18-cba3-9da3-a3d7-3c63ad4108f1",
      "http.method": "POST",
      "http.protocol": "HTTP/1.1",
      "http.status_code": "200",
      "http.url": "http://10.104.207.91/pdas/sa/requestContract",
      "istio.canonical_revision": "latest",
      "istio.canonical_service": "external-service",
      "istio.mesh_id": "cluster.local",
      "istio.namespace": "pdas",
      node_id:
        "sidecar~172.17.0.19~external-service-794ccfd97-sjz2c.pdas~pdas.svc.cluster.local",
      "peer.address": "172.17.0.10",
      request_size: "158",
      response_flags: "-",
      response_size: "41",
      upstream_cluster: "inbound|4506||",
      "upstream_cluster.name": "inbound|4506||",
      user_agent:
        "Mozilla/5.0 (X11; Linux x86_64; rv:97.0) Gecko/20100101 Firefox/97.0",
    },
  },
  {
    traceId: "4a5e59b938fc24847f6746ec4285c01e",
    id: "7f6746ec4285c01e",
    kind: "CLIENT",
    name: "external-service.pdas.svc.cluster.local:80/pdas/sa/requestcontract*",
    timestamp: 1646208338215362,
    duration: 18891,
    localEndpoint: {
      serviceName: "istio-ingressgateway.istio-system",
      ipv4: "172.17.0.10",
    },
    annotations: [{ timestamp: 1646208338234335, value: "cr" }],
    tags: {
      component: "proxy",
      downstream_cluster: "-",
      "guid:x-request-id": "8c78cf18-cba3-9da3-a3d7-3c63ad4108f1",
      "http.method": "POST",
      "http.protocol": "HTTP/1.1",
      "http.status_code": "200",
      "http.url": "http://10.104.207.91/pdas/sa/requestContract",
      "istio.canonical_revision": "latest",
      "istio.canonical_service": "istio-ingressgateway",
      "istio.mesh_id": "cluster.local",
      "istio.namespace": "istio-system",
      node_id:
        "router~172.17.0.10~istio-ingressgateway-5b64d5b78f-5np8l.istio-system~istio-system.svc.cluster.local",
      "peer.address": "172.17.0.1",
      request_size: "158",
      response_flags: "-",
      response_size: "41",
      upstream_cluster: "outbound|80||external-service.pdas.svc.cluster.local",
      "upstream_cluster.name":
        "outbound|80||external-service.pdas.svc.cluster.local",
      user_agent:
        "Mozilla/5.0 (X11; Linux x86_64; rv:97.0) Gecko/20100101 Firefox/97.0",
    },
  },
];
const MockLogsPDAS =
  `2022-03-02T08:05:38.224642Z	[Request 8c78cf18-cba3-9da3-a3d7-3c63ad4108f1/4a5e59b938fc24847f6746ec4285c01e/22edae1c77cebbbe/7f6746ec4285c01e] [GET user-service.pdas.svc.cluster.local/internal/user/user/email/admin]
2022-03-02T08:05:38.227145Z	[Response 8c78cf18-cba3-9da3-a3d7-3c63ad4108f1/4a5e59b938fc24847f6746ec4285c01e/24a40f72c05bed24/ebc13038a68d6ca8] [Status] 200 [ContentType application/json] [Body] {"id":"5fc0b2b71952525d6bc3c523","email":"admin","telephone":null,"mobilePhone":"0912345678","address":null,"password":"$2a$10$ldgckIa8AqLUFS9TWZKV..fDTsP.Df.08Cj155GiIqiqQ3/OONF2y","userType":3,"certificates":null,"keys":null}
2022-03-02T08:05:38.227570Z	[Request 8c78cf18-cba3-9da3-a3d7-3c63ad4108f1/4a5e59b938fc24847f6746ec4285c01e/22edae1c77cebbbe/7f6746ec4285c01e] [GET user-service.pdas.svc.cluster.local/internal/user/user/email/admin]
2022-03-02T08:05:38.229071Z	[Response 8c78cf18-cba3-9da3-a3d7-3c63ad4108f1/4a5e59b938fc24847f6746ec4285c01e/aed0ef16fd098180/5fca8747e2281c08] [Status] 200 [ContentType application/json] [Body] {"id":"5fc0b2b71952525d6bc3c523","email":"admin","telephone":null,"mobilePhone":"0912345678","address":null,"password":"$2a$10$ldgckIa8AqLUFS9TWZKV..fDTsP.Df.08Cj155GiIqiqQ3/OONF2y","userType":3,"certificates":null,"keys":null}
2022-03-02T08:05:38.231484Z	[Request 8c78cf18-cba3-9da3-a3d7-3c63ad4108f1/4a5e59b938fc24847f6746ec4285c01e/22edae1c77cebbbe/7f6746ec4285c01e] [POST contract-service.pdas.svc.cluster.local/internal/contract/init] [ContentType application/json] [Body] {"idDataRequester":"5fc0b2b71952525d6bc3c525","idDataHolder":"5fc0b2b71952525d6bc3c526","idOrdinaryUsers":[],"deadline":1647964800000,"contractBody":"123123"}
2022-03-02T08:05:38.233419Z	[Response 8c78cf18-cba3-9da3-a3d7-3c63ad4108f1/4a5e59b938fc24847f6746ec4285c01e/d7618fb68cdc44c1/ea9f6214dd9410b9] [Status] 200 [ContentType application/json] [Body] {"id":"621f2552ad281a095b2732ad","originId":null,"originBody":"123123","firstSignature":"MTIzMTIz","secondSignature":null,"transactionHash":null,"idOrdinaryUser":null,"idDataRequester":"5fc0b2b71952525d6bc3c525","idDataHolder":"5fc0b2b71952525d6bc3c526","firstSignDate":0,"secondSignDate":0,"signState":0,"deadline":1647964800000,"hasNotified":false,"ouSerialNumber":null,"drSerialNumber":null,"dhSerialNumber":null,"ouPublicKey":null,"drPublicKey":null,"dhPublicKey":null}
2022-03-02T08:05:38.234013Z	[Response 8c78cf18-cba3-9da3-a3d7-3c63ad4108f1/4a5e59b938fc24847f6746ec4285c01e/22edae1c77cebbbe/7f6746ec4285c01e] [Status] 200 [ContentType application/json] [Body] {"contractId":"621f2552ad281a095b2732ad"}`.split(
    "\n"
  );

const Service = "srv";
const Namespace = "ns";
const Version = "latest";
const UniqueServiceName = `${Service}\t${Namespace}\t${Version}`;
const UniqueEndpointName = `${UniqueServiceName}\tGET\thttp://srv/api/a`;
const Method = "GET";
const Status = "200";
const Today = Date.now();
const Yesterday = Date.now() - 86400000;
const UniversalServiceBaseData = {
  service: Service,
  namespace: Namespace,
  version: Version,
  uniqueServiceName: UniqueServiceName,
};
const UniversalEndpointBaseData = {
  ...UniversalServiceBaseData,
  uniqueEndpointName: UniqueEndpointName,
};

const MockAggregatedData1: TAggregatedData = {
  fromDate: new Date(Today),
  toDate: new Date(Today),
  services: [
    {
      ...UniversalServiceBaseData,
      avgLatencyCV: 1,
      avgRisk: 0.5,
      totalRequests: 1000,
      totalRequestErrors: 10,
      totalServerErrors: 1,
      endpoints: [
        {
          uniqueServiceName: UniqueServiceName,
          uniqueEndpointName: `${UniqueServiceName}\t${Method}\thttp://srv/api/a`,
          avgLatencyCV: 1,
          method: "GET",
          totalRequests: 500,
          totalRequestErrors: 5,
          totalServerErrors: 1,
          labelName: "/srv/api/a",
        },
        {
          uniqueServiceName: UniqueServiceName,
          uniqueEndpointName: `${UniqueServiceName}\t${Method}\thttp://srv/api/b`,
          avgLatencyCV: 1,
          method: "GET",
          totalRequests: 500,
          totalRequestErrors: 5,
          totalServerErrors: 0,
          labelName: "/srv/api/b",
        },
      ],
    },
  ],
};
const MockAggregatedData2: TAggregatedData = {
  fromDate: new Date(Today),
  toDate: new Date(Today),
  services: [
    {
      ...UniversalServiceBaseData,
      avgLatencyCV: 1,
      avgRisk: 0.5,
      totalRequests: 1000,
      totalRequestErrors: 10,
      totalServerErrors: 1,
      endpoints: [
        {
          uniqueServiceName: UniqueServiceName,
          uniqueEndpointName: `${UniqueServiceName}\t${Method}\thttp://srv/api/a`,
          avgLatencyCV: 1,
          method: "GET",
          totalRequests: 500,
          totalRequestErrors: 5,
          totalServerErrors: 1,
          labelName: "/srv/api/a",
        },
        {
          uniqueServiceName: UniqueServiceName,
          uniqueEndpointName: `${UniqueServiceName}\t${Method}\thttp://srv/api/b`,
          avgLatencyCV: 1,
          method: "GET",
          totalRequests: 500,
          totalRequestErrors: 5,
          totalServerErrors: 0,
          labelName: "/srv/api/b",
        },
      ],
    },
  ],
};

const MockMergedAggregatedData: TAggregatedData = {
  fromDate: new Date(Today),
  toDate: new Date(Today),
  services: [
    {
      ...UniversalServiceBaseData,
      avgLatencyCV: 1,
      avgRisk: 0.5,
      totalRequests: 2000,
      totalRequestErrors: 20,
      totalServerErrors: 2,
      endpoints: [
        {
          uniqueServiceName: UniqueServiceName,
          uniqueEndpointName: `${UniqueServiceName}\t${Method}\thttp://srv/api/a`,
          avgLatencyCV: 1,
          method: Method,
          totalRequests: 1000,
          totalRequestErrors: 10,
          totalServerErrors: 2,
          labelName: "/srv/api/a",
        },
        {
          uniqueServiceName: UniqueServiceName,
          uniqueEndpointName: `${UniqueServiceName}\t${Method}\thttp://srv/api/b`,
          avgLatencyCV: 1,
          method: Method,
          totalRequests: 1000,
          totalRequestErrors: 10,
          totalServerErrors: 0,
          labelName: "/srv/api/b",
        },
      ],
    },
  ],
};

const MockRlDataPDAS = [
  {
    timestamp: 1646208338224823,
    service: "user-service",
    namespace: "pdas",
    version: "latest",
    method: "GET",
    latency: 1903,
    status: "200",
    uniqueServiceName: "user-service\tpdas\tlatest",
    uniqueEndpointName:
      "user-service\tpdas\tlatest\tGET\thttp://user-service.pdas.svc.cluster.local/internal/user/user/email/admin",
    replica: undefined,
  },
  {
    timestamp: 1646208338227724,
    service: "user-service",
    namespace: "pdas",
    version: "latest",
    method: "GET",
    latency: 1094,
    status: "200",
    uniqueServiceName: "user-service\tpdas\tlatest",
    uniqueEndpointName:
      "user-service\tpdas\tlatest\tGET\thttp://user-service.pdas.svc.cluster.local/internal/user/user/email/admin",
    replica: undefined,
  },
  {
    timestamp: 1646208338231628,
    service: "contract-service",
    namespace: "pdas",
    version: "latest",
    method: "POST",
    latency: 1523,
    status: "200",
    uniqueServiceName: "contract-service\tpdas\tlatest",
    uniqueEndpointName:
      "contract-service\tpdas\tlatest\tPOST\thttp://contract-service.pdas.svc.cluster.local/internal/contract/init",
    replica: undefined,
  },
  {
    timestamp: 1646208338216165,
    service: "external-service",
    namespace: "pdas",
    version: "latest",
    method: "POST",
    latency: 17776,
    status: "200",
    uniqueServiceName: "external-service\tpdas\tlatest",
    uniqueEndpointName:
      "external-service\tpdas\tlatest\tPOST\thttp://10.104.207.91/pdas/sa/requestContract",
    replica: undefined,
  },
];
const MockEndpointDependenciesPDAS = [
  {
    endpoint: {
      version: "latest",
      service: "user-service",
      namespace: "pdas",
      url: "http://user-service.pdas.svc.cluster.local/internal/user/user/email/admin",
      host: "user-service.pdas.svc.cluster.local",
      path: "/internal/user/user/email/admin",
      port: "80",
      clusterName: "cluster.local",
      method: "GET",
      uniqueServiceName: "user-service\tpdas\tlatest",
      uniqueEndpointName:
        "user-service\tpdas\tlatest\tGET\thttp://user-service.pdas.svc.cluster.local/internal/user/user/email/admin",
    },
    dependingBy: [
      {
        endpoint: {
          version: "latest",
          service: "external-service",
          namespace: "pdas",
          url: "http://10.104.207.91/pdas/sa/requestContract",
          host: "10.104.207.91",
          path: "/pdas/sa/requestContract",
          port: "80",
          clusterName: "cluster.local",
          method: "POST",
          uniqueServiceName: "external-service\tpdas\tlatest",
          uniqueEndpointName:
            "external-service\tpdas\tlatest\tPOST\thttp://10.104.207.91/pdas/sa/requestContract",
        },
        distance: 1,
        type: "CLIENT",
      },
    ],
    dependingOn: [],
  },
  {
    endpoint: {
      version: "latest",
      service: "user-service",
      namespace: "pdas",
      url: "http://user-service.pdas.svc.cluster.local/internal/user/user/email/admin",
      host: "user-service.pdas.svc.cluster.local",
      path: "/internal/user/user/email/admin",
      port: "80",
      clusterName: "cluster.local",
      method: "GET",
      uniqueServiceName: "user-service\tpdas\tlatest",
      uniqueEndpointName:
        "user-service\tpdas\tlatest\tGET\thttp://user-service.pdas.svc.cluster.local/internal/user/user/email/admin",
    },
    dependingBy: [
      {
        endpoint: {
          version: "latest",
          service: "external-service",
          namespace: "pdas",
          url: "http://10.104.207.91/pdas/sa/requestContract",
          host: "10.104.207.91",
          path: "/pdas/sa/requestContract",
          port: "80",
          clusterName: "cluster.local",
          method: "POST",
          uniqueServiceName: "external-service\tpdas\tlatest",
          uniqueEndpointName:
            "external-service\tpdas\tlatest\tPOST\thttp://10.104.207.91/pdas/sa/requestContract",
        },
        distance: 1,
        type: "CLIENT",
      },
    ],
    dependingOn: [],
  },
  {
    endpoint: {
      version: "latest",
      service: "contract-service",
      namespace: "pdas",
      url: "http://contract-service.pdas.svc.cluster.local/internal/contract/init",
      host: "contract-service.pdas.svc.cluster.local",
      path: "/internal/contract/init",
      port: "80",
      clusterName: "cluster.local",
      method: "POST",
      uniqueServiceName: "contract-service\tpdas\tlatest",
      uniqueEndpointName:
        "contract-service\tpdas\tlatest\tPOST\thttp://contract-service.pdas.svc.cluster.local/internal/contract/init",
    },
    dependingBy: [
      {
        endpoint: {
          version: "latest",
          service: "external-service",
          namespace: "pdas",
          url: "http://10.104.207.91/pdas/sa/requestContract",
          host: "10.104.207.91",
          path: "/pdas/sa/requestContract",
          port: "80",
          clusterName: "cluster.local",
          method: "POST",
          uniqueServiceName: "external-service\tpdas\tlatest",
          uniqueEndpointName:
            "external-service\tpdas\tlatest\tPOST\thttp://10.104.207.91/pdas/sa/requestContract",
        },
        distance: 1,
        type: "CLIENT",
      },
    ],
    dependingOn: [],
  },
  {
    endpoint: {
      version: "latest",
      service: "external-service",
      namespace: "pdas",
      url: "http://10.104.207.91/pdas/sa/requestContract",
      host: "10.104.207.91",
      path: "/pdas/sa/requestContract",
      port: "80",
      clusterName: "cluster.local",
      method: "POST",
      uniqueServiceName: "external-service\tpdas\tlatest",
      uniqueEndpointName:
        "external-service\tpdas\tlatest\tPOST\thttp://10.104.207.91/pdas/sa/requestContract",
    },
    dependingBy: [],
    dependingOn: [
      {
        endpoint: {
          version: "latest",
          service: "user-service",
          namespace: "pdas",
          url: "http://user-service.pdas.svc.cluster.local/internal/user/user/email/admin",
          host: "user-service.pdas.svc.cluster.local",
          path: "/internal/user/user/email/admin",
          port: "80",
          clusterName: "cluster.local",
          method: "GET",
          uniqueServiceName: "user-service\tpdas\tlatest",
          uniqueEndpointName:
            "user-service\tpdas\tlatest\tGET\thttp://user-service.pdas.svc.cluster.local/internal/user/user/email/admin",
        },
        distance: 1,
        type: "SERVER",
      },
      {
        endpoint: {
          version: "latest",
          service: "contract-service",
          namespace: "pdas",
          url: "http://contract-service.pdas.svc.cluster.local/internal/contract/init",
          host: "contract-service.pdas.svc.cluster.local",
          path: "/internal/contract/init",
          port: "80",
          clusterName: "cluster.local",
          method: "POST",
          uniqueServiceName: "contract-service\tpdas\tlatest",
          uniqueEndpointName:
            "contract-service\tpdas\tlatest\tPOST\thttp://contract-service.pdas.svc.cluster.local/internal/contract/init",
        },
        distance: 1,
        type: "SERVER",
      },
    ],
  },
];

const MockBaseRlData1: TRealtimeData[] = [
  {
    uniqueServiceName: "srv\tns\tlatest",
    uniqueEndpointName: "srv\tns\tlatest\tGET\thttp://srv/api/a",
    service: "srv",
    namespace: "ns",
    version: "latest",
    latency: 100,
    method: "GET",
    status: "200",
    timestamp: Yesterday * 1000,
    replica: 1,
    requestBody: '{"name":"test request"}',
    requestContentType: "application/json",
    responseBody: '{"name":"test response"}',
    responseContentType: "application/json",
  },
  {
    uniqueServiceName: "srv\tns\tlatest",
    uniqueEndpointName: "srv\tns\tlatest\tGET\thttp://srv/api/a",
    service: "srv",
    namespace: "ns",
    version: "latest",
    latency: 120,
    method: "GET",
    status: "200",
    timestamp: Yesterday * 1000,
    replica: 1,
    requestBody: '{"name":"test request"}',
    requestContentType: "application/json",
    responseBody: '{"name":"test response"}',
    responseContentType: "application/json",
  },
  {
    uniqueServiceName: "srv\tns\tlatest",
    uniqueEndpointName: "srv\tns\tlatest\tGET\thttp://srv/api/a",
    service: "srv",
    namespace: "ns",
    version: "latest",
    latency: 80,
    method: "GET",
    status: "200",
    timestamp: Yesterday * 1000,
    replica: 1,
    requestBody: '{"name":"test request"}',
    requestContentType: "application/json",
    responseBody: '{"name":"test response"}',
    responseContentType: "application/json",
  },
  {
    uniqueServiceName: "srv\tns\tlatest",
    uniqueEndpointName: "srv\tns\tlatest\tGET\thttp://srv/api/a",
    service: "srv",
    namespace: "ns",
    version: "latest",
    latency: 100,
    method: "GET",
    status: "200",
    timestamp: Yesterday * 1000,
    replica: 1,
    requestBody: '{"name":"test request"}',
    requestContentType: "application/json",
    responseBody: '{"name":"test response"}',
    responseContentType: "application/json",
  },
  {
    uniqueServiceName: "srv\tns\tlatest",
    uniqueEndpointName: "srv\tns\tlatest\tGET\thttp://srv/api/a",
    service: "srv",
    namespace: "ns",
    version: "latest",
    latency: 120,
    method: "GET",
    status: "200",
    timestamp: Yesterday * 1000,
    replica: 1,
    requestBody: '{"name":"test request"}',
    requestContentType: "application/json",
    responseBody: '{"name":"test response"}',
    responseContentType: "application/json",
  },
  {
    uniqueServiceName: "srv\tns\tlatest",
    uniqueEndpointName: "srv\tns\tlatest\tGET\thttp://srv/api/a",
    service: "srv",
    namespace: "ns",
    version: "latest",
    latency: 80,
    method: "GET",
    status: "200",
    timestamp: Yesterday * 1000,
    replica: 1,
    requestBody: '{"name":"test request"}',
    requestContentType: "application/json",
    responseBody: '{"name":"test response"}',
    responseContentType: "application/json",
  },
  {
    uniqueServiceName: "srv\tns\tlatest",
    uniqueEndpointName: "srv\tns\tlatest\tGET\thttp://srv/api/a",
    service: "srv",
    namespace: "ns",
    version: "latest",
    latency: 120,
    method: "GET",
    status: "200",
    timestamp: Yesterday * 1000,
    replica: 1,
    requestBody: '{"name":"test request"}',
    requestContentType: "application/json",
    responseBody: '{"name":"test response"}',
    responseContentType: "application/json",
  },
  {
    uniqueServiceName: "srv\tns\tlatest",
    uniqueEndpointName: "srv\tns\tlatest\tGET\thttp://srv/api/a",
    service: "srv",
    namespace: "ns",
    version: "latest",
    latency: 80,
    method: "GET",
    status: "200",
    timestamp: Yesterday * 1000,
    replica: 1,
    requestBody: '{"name":"test request"}',
    requestContentType: "application/json",
    responseBody: '{"name":"test response"}',
    responseContentType: "application/json",
  },
  {
    uniqueServiceName: "srv\tns\tlatest",
    uniqueEndpointName: "srv\tns\tlatest\tGET\thttp://srv/api/a",
    service: "srv",
    namespace: "ns",
    version: "latest",
    latency: 120,
    method: "GET",
    status: "200",
    timestamp: Yesterday * 1000,
    replica: 1,
    requestBody: '{"name":"test request"}',
    requestContentType: "application/json",
    responseBody: '{"name":"test response"}',
    responseContentType: "application/json",
  },
  {
    uniqueServiceName: "srv\tns\tlatest",
    uniqueEndpointName: "srv\tns\tlatest\tGET\thttp://srv/api/a",
    service: "srv",
    namespace: "ns",
    version: "latest",
    latency: 80,
    method: "GET",
    status: "200",
    timestamp: Yesterday * 1000,
    replica: 1,
    requestBody: '{"name":"test request"}',
    requestContentType: "application/json",
    responseBody: '{"name":"test response"}',
    responseContentType: "application/json",
  },
];

const divBaseData1 = [100, 120, 80, 100, 120, 80, 120, 80, 120, 80].reduce(
  (prev, curr) => prev + Math.pow(curr, 2),
  0
);
const MockBaseCrlData1: TCombinedRealtimeData[] = [
  {
    service: Service,
    namespace: Namespace,
    version: Version,
    latestTimestamp: Yesterday * 1000,
    combined: 10,
    latency: {
      mean: 100,
      divBase: divBaseData1,
      cv: Math.sqrt(divBaseData1 / 10 - Math.pow(100, 2)) / 100,
    },
    method: Method,
    status: Status,
    uniqueServiceName: UniqueServiceName,
    uniqueEndpointName: UniqueEndpointName,
    avgReplica: 1,
    requestBody: { name: "test request" },
    requestContentType: "application/json",
    requestSchema: Utils.ObjectToInterfaceString({ name: "string" }),
    responseBody: { name: "test response" },
    responseContentType: "application/json",
    responseSchema: Utils.ObjectToInterfaceString({ name: "string" }),
  },
];
const divBaseData2 = [150, 170, 130, 130, 170, 150, 120, 180, 120, 180].reduce(
  (prev, curr) => prev + Math.pow(curr, 2),
  0
);
const MockBaseCrlData2: TCombinedRealtimeData[] = [
  {
    service: Service,
    namespace: Namespace,
    version: Version,
    latestTimestamp: Today * 1000,
    combined: 10,
    latency: {
      mean: 150,
      divBase: divBaseData2,
      cv: Math.sqrt(divBaseData2 / 10 - Math.pow(150, 2)) / 150,
    },
    method: Method,
    status: Status,
    uniqueServiceName: UniqueServiceName,
    uniqueEndpointName: UniqueEndpointName,
    avgReplica: 1,
    requestBody: { name: "test request" },
    requestContentType: "application/json",
    requestSchema: Utils.ObjectToInterfaceString({ name: "string" }),
    responseBody: { name: "test response" },
    responseContentType: "application/json",
    responseSchema: Utils.ObjectToInterfaceString({ name: "string" }),
  },
];
const divBaseBaseData = [
  100, 120, 80, 100, 120, 80, 120, 80, 120, 80, 150, 170, 130, 130, 170, 150,
  120, 180, 120, 180,
].reduce((prev, curr) => prev + Math.pow(curr, 2), 0);
const MockCombinedBaseData: TCombinedRealtimeData[] = [
  {
    uniqueEndpointName: UniqueEndpointName,
    uniqueServiceName: UniqueServiceName,
    service: Service,
    namespace: Namespace,
    version: Version,
    method: Method,
    status: Status,
    combined: 20,
    requestContentType: "application/json",
    responseContentType: "application/json",
    latestTimestamp: Today * 1000,
    requestBody: { name: "test request" },
    requestSchema: Utils.ObjectToInterfaceString({ name: "string" }),
    responseBody: { name: "test response" },
    responseSchema: Utils.ObjectToInterfaceString({ name: "string" }),
    latency: {
      mean: 125,
      divBase: divBaseBaseData,
      cv: Math.sqrt(divBaseBaseData / 20 - Math.pow(125, 2)) / 125,
    },
  },
];
const MockReplicas: TReplicaCount[] = [
  {
    service: Service,
    namespace: Namespace,
    version: Version,
    uniqueServiceName: UniqueServiceName,
    replicas: 1,
  },
];
const MockDependencies: TServiceDependency[] = [
  {
    service: Service,
    namespace: Namespace,
    version: Version,
    uniqueServiceName: UniqueServiceName,
    dependency: [],
    links: [],
  },
];
const MockHistoricalData: THistoricalData[] = [
  {
    date: new Date(Utils.BelongsToDateTimestamp(Date.now() - 86400000)),
    services: [
      {
        date: new Date(Utils.BelongsToDateTimestamp(Date.now() - 86400000)),
        endpoints: [
          {
            latencyCV: 0.17888543819998318,
            method: Method,
            requestErrors: 0,
            requests: 10,
            serverErrors: 0,
            uniqueEndpointName: UniqueEndpointName,
            uniqueServiceName: UniqueServiceName,
          },
        ],
        service: Service,
        namespace: Namespace,
        version: Version,
        requests: 10,
        requestErrors: 0,
        serverErrors: 0,
        latencyCV: 0.17888543819998318,
        uniqueServiceName: UniqueServiceName,
        risk: 0.1,
      },
    ],
  },
];
const MockAggregatedData: TAggregatedData = {
  fromDate: new Date(Utils.BelongsToDateTimestamp(Yesterday)),
  toDate: new Date(Utils.BelongsToDateTimestamp(Yesterday)),
  services: [
    {
      uniqueServiceName: UniqueServiceName,
      service: Service,
      namespace: Namespace,
      version: Version,
      totalRequests: 10,
      totalServerErrors: 0,
      totalRequestErrors: 0,
      avgRisk: 0.1,
      avgLatencyCV: 0.17888543819998318,
      endpoints: [
        {
          uniqueServiceName: UniqueServiceName,
          uniqueEndpointName: UniqueEndpointName,
          method: Method,
          totalRequests: 10,
          totalServerErrors: 0,
          totalRequestErrors: 0,
          avgLatencyCV: 0.17888543819998318,
        },
      ],
    },
  ],
};

const MockEndpointDataType: TEndpointDataType[] = [
  {
    service: Service,
    namespace: Namespace,
    version: Version,
    method: Method,
    uniqueServiceName: UniqueServiceName,
    uniqueEndpointName: UniqueEndpointName,
    schemas: [
      {
        status: "200",
        time: new Date(Yesterday),
        requestContentType: "application/json",
        responseContentType: "application/json",
        requestSample: { name: "test request" },
        responseSample: { name: "test response" },
        requestSchema: Utils.ObjectToInterfaceString({ name: "string" }),
        responseSchema: Utils.ObjectToInterfaceString({ name: "string" }),
      },
    ],
  },
];

const MockEndpointInfoPDAS1 = {
  version: "latest",
  service: "user-service",
  namespace: "pdas",
  url: "http://user-service.pdas.svc.cluster.local/internal/user/user/email/admin",
  host: "user-service.pdas.svc.cluster.local",
  path: "/internal/user/user/email/admin",
  port: "80",
  clusterName: "cluster.local",
  method: "GET",
  uniqueServiceName: "user-service\tpdas\tlatest",
  uniqueEndpointName:
    "user-service\tpdas\tlatest\tGET\thttp://user-service.pdas.svc.cluster.local/internal/user/user/email/admin",
};

export {
  MockTrace,
  MockEndpointDependencies,
  MockLogs,
  MockTracePDAS,
  MockLogsPDAS,
  Service,
  Namespace,
  Version,
  Method,
  Status,
  Today,
  Yesterday,
  UniversalServiceBaseData,
  UniversalEndpointBaseData,
  MockBaseRlData1,
  MockBaseCrlData1,
  MockBaseCrlData2,
  MockCombinedBaseData,
  MockReplicas,
  MockDependencies,
  MockHistoricalData,
  MockAggregatedData,
  MockEndpointDataType,
  MockAggregatedData1,
  MockAggregatedData2,
  MockMergedAggregatedData,
  MockRlDataPDAS,
  MockEndpointDependenciesPDAS,
  MockEndpointInfoPDAS1,
};
